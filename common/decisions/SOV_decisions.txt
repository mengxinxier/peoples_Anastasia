SOV_faction_management_category = {
	SOV_political_propaganda_Sakura_path = {
		icon = GFX_decision_eng_propaganda_campaigns
		priority = 9
		visible = {
			has_country_flag = SOV_select_support_Sakura_path
			NOT = { has_country_flag = SOV_pol_start }
		}
		available = {
			NOT = { has_country_flag = SOV_faction_management_in_progress }
			custom_trigger_tooltip = {
				tooltip = SOV_political_propaganda_Sakura_path_trigger
				check_variable = { SOV_sakura_path_progress_var < 100 }
			}
		}
		cancel_trigger = {
			has_country_flag = SOV_pol_start
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				check_variable = { SOV_sakura_path_progress_var < 60 }
			}
		}
		cost = 10
		fire_only_once = no
		days_re_enable = 30
		days_remove = 90
		modifier = {
			political_power_gain = 0.1
		}
		complete_effect = {
			set_country_flag = SOV_faction_management_in_progress
		}
		remove_effect = {
			clr_country_flag = SOV_faction_management_in_progress
			random_list = {
				10 = {
					hidden_effect = {
						add_to_variable = { SOV_sakura_path_progress_var = 4 }
						clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
						SOV_balance_calculation = yes
					}
					custom_effect_tooltip = SOV_Sakura_path_up_4_tt
				}
				35 = {
					hidden_effect = {
						add_to_variable = { SOV_sakura_path_progress_var = 3 }
						clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
						SOV_balance_calculation = yes
					}
					custom_effect_tooltip = SOV_Sakura_path_up_3_tt

				}
				55 = {
					hidden_effect = {
						add_to_variable = { SOV_sakura_path_progress_var = 2 }
						clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
						SOV_balance_calculation = yes
					}
					custom_effect_tooltip = SOV_Sakura_path_up_2_tt
				}
			}
		}
	}

	SOV_political_propaganda_anti_path = {
		icon = GFX_decision_eng_propaganda_campaigns
		priority = 9
		visible = {
			has_country_flag = SOV_select_terminate_Sakura_path
			NOT = { has_country_flag = SOV_pol_start }
		}
		available = {
			NOT = { has_country_flag = SOV_faction_management_in_progress }
			custom_trigger_tooltip = {
				tooltip = SOV_political_propaganda_anti_path_trigger
				check_variable = { SOV_sakura_path_progress_var > 0 }
			}
		}
		cancel_trigger = {
			has_country_flag = SOV_pol_start
		}
		cost = 10
		fire_only_once = no
		days_re_enable = 30
		days_remove = 90
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				check_variable = { SOV_sakura_path_progress_var > 45 }
			}
		}
		complete_effect = {
			set_country_flag = SOV_faction_management_in_progress
		}
		remove_effect = {
			clr_country_flag = SOV_faction_management_in_progress
			random_list = {
				10 = {
					hidden_effect = {
						add_to_variable = { SOV_sakura_path_progress_var = -4 }
						clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
						SOV_balance_calculation = yes
					}
					custom_effect_tooltip = SOV_anti_path_up_4_tt
				}
				35 = {
					hidden_effect = {
						add_to_variable = { SOV_sakura_path_progress_var = -3 }
						clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
						SOV_balance_calculation = yes
					}
					custom_effect_tooltip = SOV_anti_path_up_3_tt
				}
				55 = {
					hidden_effect = {
						add_to_variable = { SOV_sakura_path_progress_var = -2 }
						clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
						SOV_balance_calculation = yes
					}		
					custom_effect_tooltip = SOV_anti_path_up_2_tt
				}
			}
		}
	}

	SOV_second_five_year_plan_was_completed = {
		icon = GFX_decision_generic_factory
		priority = 99
		is_good = no
		activation = {
			always = no
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_at_least_90_civilian_factories_tt
				num_of_controlled_factories > 89
			}
		}
		fire_only_once = yes
		days_mission_timeout = 545
		complete_effect = {
			set_country_flag = SOV_plan_completed_ahead_of_schedule
			country_event = SOV_flavor.37
		}
		timeout_effect = {
			if = {
				limit = { 
					OR = {
						AND = {
							is_ai = yes
							NOT = { 
								has_game_rule = {
									rule = AH_SOV_ai_behavior_SELECTION
									option = SOV_GAME_RULE_1
								} 
							}
						}
						is_ai = no
					}
				}
				country_event = SOV_flavor.38
			}
		}
	}

	SOV_call_for_plenary_session = {
		icon = GFX_decision_generic_political_rally
		priority = 98
		is_good = no
		activation = {
			always = no
		}
		available = {
			always = no
		}
		cancel_trigger = {
			has_country_flag = SOV_pol_start
		}
		fire_only_once = no
		days_mission_timeout = var:SOV_ps
		timeout_effect = {
			add_stability = -0.02
			add_political_power = -50
			hidden_effect = {
				if = {
					limit = { check_variable = { SOV_ps > 120 } }
					add_to_variable = { SOV_ps = -60 }
				}
				if = {
					limit = { NOT = { has_country_flag = SOV_power_struggle_end } }
					activate_mission = SOV_call_for_plenary_session
				}
			}
			if = {
				limit = { has_country_flag = SOV_select_support_Sakura_path }
				hidden_effect = {
					add_to_variable = { SOV_sakura_path_progress_var = -4 }
					clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
					SOV_balance_calculation = yes
				}
				custom_effect_tooltip = SOV_anti_path_up_4_tt
			}
			else = {
				hidden_effect = {
					add_to_variable = { SOV_sakura_path_progress_var = 4 }
					clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
					SOV_balance_calculation = yes
				}
				custom_effect_tooltip = SOV_Sakura_path_up_4_tt
			}
		}
	}

	SOV_hold_plenary_session = {
		icon = GFX_decision_generic_nationalism
		priority = 97
		visible = {
			NOT = { has_country_flag = SOV_pol_start }
		}
		available = {
			has_completed_focus = SOV_great_game_of_Minsk
			has_country_flag = SOV_subdue_forgotten_card
		}
		ai_will_do = {
			base = 20
		}
		fire_only_once = yes
		days_remove = 14
		remove_effect = {
			if = {
				limit = {
					has_active_mission = SOV_call_for_plenary_session
				}
				remove_mission = SOV_call_for_plenary_session
			}
			set_country_flag = SOV_pol_start
			hidden_effect = {
				if = {
					limit = { has_country_flag = SOV_FC_minority_win }
					country_event = { id = SOV_pol.14 days = 3 } 
				}
				else = { country_event = { id = SOV_pol.13 days = 3 } }
			}
		} 
	}

	SOV_trotskyist_speeches_were_forbidden = {
		priority = 6
		icon = GFX_decision_generic_police_action
		visible = {
			has_country_flag = SOV_can_nuisance_to_truth
			check_variable = { SOV_truth_live = 1 }
			check_variable = { SOV_youth_party_influence_var > 0 }
		}
		available = {
			NOT = { has_country_flag = SOV_against_truth_in_progress }
			custom_trigger_tooltip = {
				tooltip = SOV_against_truth_trigger
				check_variable = { SOV_youth_party_influence_var > 0 }
			}
		}
		cancel_if_not_visible = yes
		cost = 10
		fire_only_once = no
		days_re_enable = 30
		days_remove = 90
		ai_will_do = {
			base = 100
		}
		modifier = {
			political_power_gain = 0.1
		}
		complete_effect = {
			set_country_flag = SOV_against_truth_in_progress
		}
		remove_effect = {
			clr_country_flag = SOV_against_truth_in_progress
			hidden_effect = {
				set_variable = { SOV_faction_num = 8 }
				set_variable = { SOV_faction_variate = -1 }
				SOV_change_faction_influence = yes
				set_variable = { SOV_faction_num = 8 }
				set_variable = { SOV_faction_variate = -5 }
				SOV_change_faction_loyalty = yes
			}
			custom_effect_tooltip = SOV_against_truth_tt
			custom_effect_tooltip = SOV_Sakura_path_up_2_tt
		}
	}

	SOV_arrest_members_of_trotskyist = {
		priority = 6
		icon = GFX_decision_generic_police_action
		visible = {
			has_country_flag = SOV_can_nuisance_to_truth
			check_variable = { SOV_truth_live = 1 }
			check_variable = { SOV_truth_party_loyalty_var < 1 }
		}
		available = {
			NOT = { has_country_flag = SOV_against_truth_in_progress }
			custom_trigger_tooltip = {
				tooltip = SOV_arrest_truth_trigger
				check_variable = { SOV_truth_party_loyalty_var < 1 }
			}
		}
		cancel_if_not_visible = yes
		cost = 10
		fire_only_once = no
		days_re_enable = 30
		days_remove = 90
		ai_will_do = {
			base = 100
		}
		modifier = {
			political_power_gain = 0.1
		}
		complete_effect = {
			set_country_flag = SOV_against_truth_in_progress
		}
		remove_effect = {
			clr_country_flag = SOV_against_truth_in_progress
			hidden_effect = {
				if = {
					limit = { check_variable = { SOV_youth_party_influence_var < 2 } }
					set_variable = { SOV_truth_live = 0 }
				}
				set_variable = { SOV_faction_num = 8 }
				set_variable = { SOV_faction_variate = -2 }
				SOV_change_faction_influence = yes
			}
			custom_effect_tooltip = SOV_arrest_truth_tt
			custom_effect_tooltip = SOV_arrest_members_of_trotskyist_tt
		}
	}

	SOV_Sponsor_trotskyist_to_give_speech = {
		icon = GFX_decision_generic_speech
		priority = 7
		visible = {
			has_country_flag = SOV_can_cooperate_with_truth
			check_variable = { SOV_truth_party_loyalty_var < 100 }
			check_variable = { SOV_truth_live = 1 }
		}
		available = {
			NOT = { has_country_flag = SOV_against_truth_in_progress }
			custom_trigger_tooltip = {
				tooltip = SOV_Sponsor_trotskyist_trigger
				check_variable = { SOV_truth_party_loyalty_var < 100 }
			}
		}
		cancel_if_not_visible = yes
		cost = 10
		fire_only_once = no
		days_re_enable = 30
		days_remove = 90
		ai_will_do = {
			base = 100
		}
		modifier = {
			political_power_gain = 0.1
		}
		complete_effect = {
			set_country_flag = SOV_against_truth_in_progress
		}
		remove_effect = {
			clr_country_flag = SOV_against_truth_in_progress
			hidden_effect = {
				add_to_variable = { SOV_sakura_path_progress_var = -3 }
				clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
				SOV_balance_calculation = yes
				set_variable = { SOV_faction_num = 8 }
				set_variable = { SOV_faction_variate = 1 }
				SOV_change_faction_influence = yes
				set_variable = { SOV_faction_num = 8 }
				set_variable = { SOV_faction_variate = 5 }
				SOV_change_faction_loyalty = yes
			}

			custom_effect_tooltip = SOV_Sponsor_trotskyist_tt
			custom_effect_tooltip = SOV_anti_path_up_3_tt
		}
	}

	SOV_integrate_trotskyist = {
		icon = GFX_decision_generic_speech
		priority = 7
		visible = {
			has_country_flag = SOV_can_cooperate_with_truth
			check_variable = { SOV_truth_party_loyalty_var > 75 }
		}
		available = {
			NOT = { has_country_flag = SOV_against_truth_in_progress }
			custom_trigger_tooltip = {
				tooltip = SOV_integrate_trotskyist_trigger
				check_variable = { SOV_truth_party_loyalty_var > 95 }
			}
		}
		cost = 10
		fire_only_once = no
		days_re_enable = 30
		days_remove = 90
		ai_will_do = {
			base = 100
		}
		modifier = {
			political_power_gain = 0.25
		}
		complete_effect = {
			set_country_flag = SOV_against_truth_in_progress
		}
		remove_effect = {
			clr_country_flag = SOV_against_truth_in_progress
			hidden_effect = {
				set_variable = { SOV_truth_party_loyalty_var = 100 }
				set_variable = { SOV_truth_party_pp_var = 0 }
				set_variable = { SOV_truth_live = 2 }
				SOV_Calculate_impact = yes
				set_country_flag = SOV_integrate_trotskyist_flag
				if = {
					limit = { has_country_flag = SOV_subdue_forgotten_card }
					country_event = SOV_pol.14
				}
				else = {
					country_event = SOV_pol.13
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_Anna  
			add_political_power = 100
		}
	}



	SOV_reorganize_the_army = {
		icon = GFX_decision_SOV_the_military_conspiracy
		visible = {
			has_completed_focus = SOV_defeat_of_Kiev
		}

		available = {
			is_subject = no
		}

		cost = 10
		fire_only_once = yes
		days_remove = 120
		ai_will_do = {
			base = 1000
		}
		modifier = {
			army_core_defence_factor = 0.15
		}
		remove_effect = {
			SOV_military_start_to_favor_Sakura_path = yes
			hidden_effect = {
				add_to_variable = { SOV_faction_num = 2 }
				add_to_variable = { SOV_faction_variate = SOV_military_party_pp_var }
				SOV_change_faction_influence = yes
				set_variable = { SOV_military_live = 2 }
				set_variable = { SOV_military_party_pp_var = 0 }
				set_variable = { SOV_military_party_loyalty_var = 100 }
				SOV_Calculate_impact = yes
			}
			custom_effect_tooltip = SOV_reorganize_the_army_tt
			hidden_effect = {
				add_to_variable = { SOV_sakura_path_progress_var = 10 }
				clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
				SOV_balance_calculation = yes
			}
			custom_effect_tooltip = SOV_Sakura_path_up_10_tt
		}
	}

	SOV_secure_NKVD = {
		icon = GFX_decision_generic_arrest
		visible = {
			has_completed_focus = SOV_defeat_of_Kiev
		}

		available = {
			is_subject = no
		}
		ai_will_do = {
			base = 1000
		}
		cost = 10
		fire_only_once = yes
		days_remove = 120
		modifier = {
			enemy_operative_capture_chance_factor = 0.25
		}
		remove_effect = {
			hidden_effect = {
				add_to_variable = { SOV_faction_num = 2 }
				add_to_variable = { SOV_faction_variate = SOV_reunion_party_pp_var }
				SOV_change_faction_influence = yes
				set_variable = { SOV_reunion_live = 2 }
				set_variable = { SOV_reunion_party_pp_var = 0 }
				set_variable = { SOV_reunion_party_loyalty_var = 100 }
				SOV_Calculate_impact = yes
			}
			SOV_reunion_start_to_favor_Sakura_path = yes
			custom_effect_tooltip = SOV_secure_NKVD_tt
			hidden_effect = {
				add_to_variable = { SOV_sakura_path_progress_var = 10 }
				clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
				SOV_balance_calculation = yes
			}
			custom_effect_tooltip = SOV_Sakura_path_up_10_tt
		}
	}

	SOV_destroy_reactionaries = {
		icon = GFX_decision_oppression
		visible = {
			has_completed_focus = SOV_defeat_of_Kiev
		}

		available = {
			is_subject = no
		}
		ai_will_do = {
			base = 1000
		}
		cost = 10
		fire_only_once = yes
		days_remove = 270
		complete_effect = {
			add_ideas = SOV_purge
		}
		remove_effect = {
			remove_ideas = SOV_purge
			add_timed_idea = {
				idea = SOV_superintendant_of_war_buff
				days = 180
			}
			add_timed_idea = {
				idea = SOV_extraordinary_measures_buff
				days = 180
			}
			SOV_Sonia_come_to_power = yes
			hidden_effect = {
				add_to_variable = { SOV_sakura_path_progress_var = 10 }
				clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
				SOV_balance_calculation = yes
				set_country_flag = SOV_orthodox_accept_Trotskyist
				SOV_truth_start_to_favor_Sakura_path = yes
			}
			add_all_party_10_loyalty = yes
			custom_effect_tooltip = SOV_Sakura_path_up_10_tt
			SOV_wind_shift_form_reunion = yes
			if = {
				limit = {
					is_ai = yes
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 20000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 3000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 2500
					producer = SOV
				}
				add_political_power = 500
			}
		}
	}

	SOV_invite_POL_to_join_us = {
		allowed = {
			always = no
		}
		icon = decision_generic_nationalism
		visible = {
			is_subject = no
			has_government = communism
			is_faction_leader = yes
			POL = {
				is_neighbor_of = ROOT
				has_government = communism
				is_subject = no
				is_in_faction = no
			}
		}
		ai_will_do = {
			base = 1000
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			POL = { country_event = SOV_dip.38 }
		}
	}

	
	SOV_invite_DEN_to_join_us = {
		icon = decision_generic_nationalism
		visible = {
			is_subject = no
			has_government = communism
			is_faction_leader = yes
			DEN = {
				has_government = communism
			}
			OR = {
				any_country = {
					is_in_faction_with = ROOT
					is_neighbor_of = DEN
				}
				DEN = { is_neighbor_of = ROOT }
			}
		}
		ai_will_do = {
			base = 1000
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			DEN = { country_event = SOV_dip.33 }
		}
	}

}

SOV_deal_with_plague_category = {
    #瘟疫彻底消退（任务）
	SOV_plague_subsided_completely = {
		priority = 100
		icon = GFX_decision_faction_bul_bzns
		activation = {   
			has_country_flag = SOV_plague_start       
		}  
		visible = {
			tag = SOV
		}    
		available = {
			always = no
		}   
		days_mission_timeout = 720
		is_good = yes
		fire_only_once = yes
		timeout_effect = {      
			hidden_effect = {
				remove_ideas = SOV_spread_of_plague5
				remove_ideas = SOV_spread_of_plague4
				remove_ideas = SOV_spread_of_plague3
				remove_ideas = SOV_spread_of_plague2
				remove_ideas = SOV_spread_of_plague
				clr_country_flag = SOV_plague_start  
				news_event = SOV_news.5
				country_event = { id = SOV_dip.51 days = 10 }
			}
	    }
	}
    #瘟疫蔓延（任务-循环触发-加重瘟疫buff）
	SOV_worsening_of_plague = {
		priority = 99
		icon = GFX_decision_revolt
		activation = {   
			always = no
		} 
		visible = {
			tag = SOV
		}                                   
		available = {
			always = no
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_mission_timeout = var:SOV_WOP
		is_good = no
		fire_only_once = no
		timeout_effect = {      
			add_manpower = -10000
			SOV_deal_with_plague_deteriorate = yes
			hidden_effect = {
				add_to_variable = {
					SOV_WOP = 10
				}
				activate_mission = SOV_worsening_of_plague
			}
	    }
	}
    #动员医疗机构（需要公共医疗委员会-小幅度60减小消所需时间）只能使用一次
	SOV_mobilize_all_medical_units = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			has_completed_focus = SOV_public_health_commission
		}
		days_remove = 30
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		fire_only_once = yes
		cost = 50
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		remove_effect = {
			hidden_effect = {
				add_to_variable = { SOV_WOP = 10 }
			}
			custom_effect_tooltip = SOV_medical_socialization_tt
			add_days_mission_timeout = {
				mission = SOV_plague_subsided_completely
				days = -60
			}
		}
	}
    #瘟疫溯源（需要源翠石研究-小幅度60减小消所需时间）只能使用一次
	SOV_source_of_plague = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			has_completed_focus = SOV_magic_mine_research
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 30
		fire_only_once = yes
		cost = 50
		remove_effect = {
			hidden_effect = {
				add_to_variable = { SOV_WOP = 10 }
			}
			custom_effect_tooltip = SOV_medical_socialization_tt
			add_days_mission_timeout = {
				mission = SOV_plague_subsided_completely
				days = -60
			}
			hidden_effect = {
				add_to_variable = { SOV_reunion_party_loyalty_var = 10 }
			}
			custom_effect_tooltip = SOV_reunion_party_loyalty_10_tt
		}
	}
    #魔法疫苗（需要魔法药剂世俗化-大大180减少消退所需时间）只能使用一次
	SOV_magic_vaccine = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			has_completed_focus = SOV_secularization_of_potions
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 14
		fire_only_once = yes
		cost = 50
		remove_effect = {
			hidden_effect = {
				add_to_variable = { SOV_WOP = 10 }
			}
			custom_effect_tooltip = SOV_medical_socialization_tt
			SOV_deal_with_plague_reduce = yes
			add_days_mission_timeout = {
				mission = SOV_plague_subsided_completely
				days = -180
			}
		}
	}
    #开发特效药（需要生命科学-中幅度减小100消所需时间）只能使用一次
	SOV_develop_specific_drugs = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			has_completed_focus = SOV_magic_life_sciences
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 90
		fire_only_once = yes
		cost = 50
		remove_effect = {
			hidden_effect = {
				add_to_variable = { SOV_WOP = 10 }
			}
			custom_effect_tooltip = SOV_medical_socialization_tt
			SOV_deal_with_plague_reduce = yes
			add_days_mission_timeout = {
				mission = SOV_plague_subsided_completely
				days = -180
			}
			hidden_effect = {
				add_to_variable = { SOV_reunion_party_loyalty_var = 10 }
			}
			custom_effect_tooltip = SOV_reunion_party_loyalty_10_tt
		}
	}
    #加强宣传（无前置-拖延蔓延时间）循环使用
	SOV_strengthen_plague_publicity = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		available = {

		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 14
		fire_only_once = no
		days_re_enable = 45
		cost = 25
		remove_effect = {
			add_political_power = 10
			add_days_mission_timeout = {
				mission = SOV_worsening_of_plague
				days = 25
			}
		}
	}
    #招募幽灵医生（无前置-拖延蔓延时间）一次性
	SOV_recruiting_ghost_doctors = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 14
		fire_only_once = yes
		cost = 50
		remove_effect = {
			add_manpower = 1000
			hidden_effect = {
				add_to_variable = { SOV_WOP = 10 }
			}
			custom_effect_tooltip = SOV_medical_socialization_tt
			hidden_effect = {
				country_event = { id = SOV_flavor.16 days = 3 }
			}
		}
	}
    #调配物资（无前置-付出代价获得大量政治点）循环使用
	SOV_allocation_of_supplies = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			
		}
		ai_will_do = {
			base = 0
			modifier = {
				factor = 10000
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague < 30
				}
			}
			modifier = {
				add = 1000
				date < 1937.1.1
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 120
		fire_only_once = no
		days_re_enable = 30
		cost = 10
		complete_effect = {
			add_political_power = 150
			add_stability = -0.05
		}
		modifier = {
			production_speed_buildings_factor = -0.15
		}
	}
    #封锁重疫区（无前置-付出人力代价拖延蔓延时间）循环使用
	SOV_control_plague_area = {
		visible = {
			has_active_mission = SOV_worsening_of_plague
		}
		available = {
			
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 90
		days_re_enable = 30
		fire_only_once = no
		cost = 25
		complete_effect = {
			random_list = {
				45 = {
					add_days_mission_timeout = {
						mission = SOV_worsening_of_plague
						days = 10
					}
				}
				25 = {
					add_days_mission_timeout = {
						mission = SOV_worsening_of_plague
						days = 15
					}
				}
				20 = {
					add_days_mission_timeout = {
						mission = SOV_worsening_of_plague
						days = 20
					}
				}
				10 = {
					add_days_mission_timeout = {
						mission = SOV_worsening_of_plague
						days = 25
					}
				}
			}
		}
		remove_effect = {
			hidden_effect = {
				country_event = SOV_flavor.3
			}
			random_list = {
				25 = {
					add_manpower = -1500
				}
				25 = {
					add_manpower = -3000
				}
				25 = {
					add_manpower = -500
				}
				25 = {
					add_manpower = -2000
				}
			}
		}
	}
    #审查腐败官僚（需要事件触发-拖延蔓延时间）一次性
	SOV_deal_with_corrupt_bureaucrats = {
		visible = {
			AND = {
				has_active_mission = SOV_worsening_of_plague
			    has_country_flag = SOV_corrupt_bureaucrats
			}
		}
		available = {
			
		}
		ai_will_do = {
			base = 10000
			modifier = {
				factor = 0
				check_variable = {
					var:SOV.days_mission_timeout@SOV_worsening_of_plague > var:SOV.days_mission_timeout@SOV_plague_subsided_completely
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = SOV_worsening_of_plague_cancel_tt
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		days_remove = 90
		fire_only_once = yes
		cost = 50
		complete_effect = {
			hidden_effect = {
				add_to_variable = { SOV_WOP = 10 }
			}
			custom_effect_tooltip = SOV_medical_socialization_tt
			add_days_mission_timeout = {
				mission = SOV_plague_subsided_completely
				days = -30
			}
			if = {
				limit = { has_country_flag = SOV_select_support_Sakura_path }
				hidden_effect = {
					add_to_variable = { SOV_sakura_path_progress_var = 5 }
					clamp_variable = { var = SOV_sakura_path_progress_var max = 100 }
					SOV_balance_calculation = yes
				}
				custom_effect_tooltip = SOV_Sakura_path_up_5_tt
			}
			if = {
				limit = { has_country_flag = SOV_select_terminate_Sakura_path }
				hidden_effect = {
					add_to_variable = { SOV_sakura_path_progress_var = -5 }
					clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
					SOV_balance_calculation = yes
				}
				custom_effect_tooltip = SOV_anti_path_up_5_tt
			}
		}
		modifier = {
			political_power_cost = 0.25
		}
	}

}

SOV_gain_profit_in_risk = {

	SOV_economic_crisis_easing = {
		icon = GFX_decision_category_gre_paying_ifc_debt
		priority = 99
		activation = {
			always = no
		}
		available = {
			always = no
		}
		days_mission_timeout = 730
		is_good = yes
		fire_only_once = yes
		cancel_trigger = {
			always = no
		}
		cancel_effect = {
			custom_effect_tooltip = SOV_economic_crisis_easing_tt
		}

		timeout_effect = {
			custom_effect_tooltip = SOV_economic_crisis_easing_tt
		}
	}

	SOV_slowing_export_monopoly = {
		icon = GFX_decision_generic_break_treaty
		visible = {
			has_completed_focus = SOV_strengthen_intervention
			has_active_mission = SOV_economic_crisis_easing
		}
		available = {
			has_active_mission = SOV_economic_crisis_easing
		}
		cancel_if_not_visible = yes
		ai_will_do = {
			base = 100
		}
		cost = 10
		fire_only_once = yes
		days_remove = 720
		modifier = {
			min_export = 0.25
			custom_modifier_tooltip = increase_monthly_income_by_10_per
		}
		complete_effect = {
			add_to_variable = { exincome_modifier = 0.1 }
			hidden_effect = {
				add_to_variable = { SOV_sakura_path_progress_var = -4 }
				clamp_variable = { var = SOV_sakura_path_progress_var min = 0 }
				SOV_balance_calculation = yes
			}
			custom_effect_tooltip = SOV_anti_path_up_4_tt
		}
		remove_effect = {
			add_to_variable = { exincome_modifier = -0.1 }
		}
	}

	SOV_dec_find_donors_to_give_us_rice = {
		priority = 97
		icon = GFX_decision_SWI_support_humanitarian_efforts
		visible = {
			has_completed_focus = SOV_look_for_investment
			has_active_mission = SOV_economic_crisis_easing
			FROM = {
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = SOV_refuse_to_invest }
				NOT = { original_tag = DVL }
				NOT = { 
					has_country_leader = {
						character = NPT_Arfoire
						ruling_only = yes
					}
				}
				NOT = { 
					original_tag = POL 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
			}
		}
		available = {
			has_active_mission = SOV_economic_crisis_easing
			# custom_trigger_tooltip = {
			# 	tooltip = SOV_dec_find_donors_tt
			# 	check_variable = { SOV_find_donors < 2 }
			# }
		}
		ai_will_do = {
			base = 100
		}
		target_trigger = {
			FROM = {
				num_of_controlled_factories > 55
				NOT = { has_war_with = ROOT }
				NOT = { tag = DVL }
				NOT = { is_in_faction_with = DVL }
				NOT = { 
					AND = {
						tag = POL
						has_government = fascism
					}
				}
			}
		}
		# cancel_trigger = { 
		# 	OR = {
		# 		NOT = { country_exists = FROM } 
		# 		has_war_with = FROM
		# 	}
		# }
		custom_cost_text = RUS_150_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 150 }
		}
		fire_only_once = no
		# days_remove = 60
		days_re_enable = 120
		# cancel_effect = {
		# 	hidden_effect = {
		# 		add_to_variable = {
		# 			ubs_save = 200
		# 		}
		# 	}
		# 	custom_effect_tooltip = SOV_get_200_add_to_reserve
		# 	if = { 
		# 		limit = { check_variable = { SOV_find_donors < 1 } }
		# 		set_variable = { SOV_find_donors = 0 }
		# 	}
		# 	else = {
		# 		add_to_variable = {	SOV_find_donors = -1 }
		# 	}
		# }
		complete_effect = {
			add_to_variable = {
				ubs_save = -150
			}
			# add_to_variable = {	SOV_find_donors = 1 }
			FROM = {
				country_event = SOV_dip.24
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				random_owned_controlled_state = {
					prioritize = { 653 572 582 583 403 265 217 581 401 251 }
					limit = { is_core_of = ROOT }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
		# remove_effect = {
		# 	if = { 
		# 		limit = { check_variable = { SOV_find_donors < 1 } }
		# 		set_variable = { SOV_find_donors = 0 }
		# 	}
		# 	else = {
		# 		add_to_variable = {	SOV_find_donors = -1 }
		# 	}
		# 	FROM = {
		# 		country_event = SOV_dip.24
		# 	}
		# 	custom_effect_tooltip = if_they_accept
		# 	effect_tooltip = {
		# 		random_owned_controlled_state = {
		# 			prioritize = { 653 572 582 583 403 265 217 581 401 251 }
		# 			limit = { is_core_of = ROOT }
		# 			add_extra_state_shared_building_slots = 1
		# 			add_building_construction = {
		# 				type = industrial_complex
		# 				level = 1
		# 			}
		# 		}
		# 	}
		# }
	}

	SOV_enlarge_investment_and_construction = {
		priority = 96
		icon = GFX_decision_generic_fundraising
		visible = {
			has_completed_focus = SOV_look_for_investment
			OR = {
				has_idea = SOV_foreign_investment
				has_idea = SOV_foreign_investment2
				has_idea = SOV_foreign_investment3
				has_idea = SOV_foreign_investment4
				has_idea = SOV_foreign_investment5
			}	
		}
		ai_will_do = {
			base = 1000
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 200 }
		}
		days_re_enable = 30
		fire_only_once = no
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			SOV_ease_investment_shortage = yes
		}
	}
}

SOV_collectivization_of_agriculture_category = {

	SOV_collectivization_of_agriculture_in_Caucasus = {
		priority = 99
		icon = GFX_decision_POL_looming_peasants_strike
		visible = {
			has_completed_focus = SOV_reorganize_committee_of_agriculture
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_collectivization_of_agriculture_tt
				check_variable = { SOV_coa < 2 }
			}
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 199 }
		}
		fire_only_once = yes
		days_remove = 270
		highlight_states = {
			highlight_state_targets = {
				state = 235
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				SOV_inadequately_prepared_collectivization = no
			}
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_coa = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_coa < 1 } }
				set_variable = { SOV_coa = 0 }
			}
			else = { add_to_variable = { SOV_coa = -1 } }
			every_owned_state = {
				limit = {
					OR = {
						state = 245
						state = 218
						state = 234
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			hidden_effect = {
				add_to_variable = { SOV_collectivization_process = 1 }
				if = {
					limit = { check_variable = { SOV_collectivization_process > 5 } }
					country_event = SOV_flavor.36
				}
			}
			if = {
				limit = { SOV_inadequately_prepared_collectivization = no }
				SOV_exploitation_of_peasants = yes
			}
		}
	}

	SOV_collectivization_of_agriculture_in_Volga = {
		priority = 98
		icon = GFX_decision_POL_looming_peasants_strike
		visible = {
			has_completed_focus = SOV_reorganize_committee_of_agriculture
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_collectivization_of_agriculture_tt
				check_variable = { SOV_coa < 2 }
			}
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 199 }
		}
		fire_only_once = yes
		days_remove = 270
		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				SOV_inadequately_prepared_collectivization = no
			}
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_coa = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_coa < 1 } }
				set_variable = { SOV_coa = 0 }
			}
			else = { add_to_variable = { SOV_coa = -1 } }
			every_owned_state = {
				limit = {
					OR = {
						state = 217
						state = 265
						state = 239
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			hidden_effect = {
				add_to_variable = { SOV_collectivization_process = 1 }
				if = {
					limit = { check_variable = { SOV_collectivization_process > 5 } }
					country_event = SOV_flavor.36
				}
			}
			if = {
				limit = { SOV_inadequately_prepared_collectivization = no }
				SOV_exploitation_of_peasants = yes
			}
		}
	}

	SOV_collectivization_of_agriculture_in_centre = {
		priority = 97
		icon = GFX_decision_POL_looming_peasants_strike
		visible = {
			has_completed_focus = SOV_reorganize_committee_of_agriculture
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_collectivization_of_agriculture_tt
				check_variable = { SOV_coa < 2 }
			}
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 199 }
		}
		fire_only_once = yes
		days_remove = 270
		highlight_states = {
			highlight_state_targets = {
				state = 258
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				SOV_inadequately_prepared_collectivization = no
			}
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_coa = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_coa < 1 } }
				set_variable = { SOV_coa = 0 }
			}
			else = { add_to_variable = { SOV_coa = -1 } }
			every_owned_state = {
				limit = {
					OR = {
						state = 258
						state = 222
						state = 220
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			hidden_effect = {
				add_to_variable = { SOV_collectivization_process = 1 }
				if = {
					limit = { check_variable = { SOV_collectivization_process > 5 } }
					country_event = SOV_flavor.36
				}
			}
			if = {
				limit = { SOV_inadequately_prepared_collectivization = no }
				SOV_exploitation_of_peasants = yes
			}
		}
	}

	SOV_collectivization_of_agriculture_in_Ural = {
		priority = 96
		icon = GFX_decision_POL_looming_peasants_strike
		visible = {
			has_completed_focus = SOV_reorganize_committee_of_agriculture
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_collectivization_of_agriculture_tt
				check_variable = { SOV_coa < 2 }
			}
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 199 }
		}
		fire_only_once = yes
		days_remove = 270
		highlight_states = {
			highlight_state_targets = {
				state = 253
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				SOV_inadequately_prepared_collectivization = no
			}
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_coa = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_coa < 1 } }
				set_variable = { SOV_coa = 0 }
			}
			else = { add_to_variable = { SOV_coa = -1 } }
			every_owned_state = {
				limit = {
					OR = {
						state = 253
						state = 252
						state = 248
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			hidden_effect = {
				add_to_variable = { SOV_collectivization_process = 1 }
				if = {
					limit = { check_variable = { SOV_collectivization_process > 5 } }
					country_event = SOV_flavor.36
				}
			}
			if = {
				limit = { SOV_inadequately_prepared_collectivization = no }
				SOV_exploitation_of_peasants = yes
			}
		}
	}

	SOV_collectivization_of_agriculture_in_Siberia = {
		priority = 95
		icon = GFX_decision_POL_looming_peasants_strike
		visible = {
			has_completed_focus = SOV_reorganize_committee_of_agriculture
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_collectivization_of_agriculture_tt
				check_variable = { SOV_coa < 2 }
			}
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 199 }
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 572
			}
		}
		days_remove = 270
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				SOV_inadequately_prepared_collectivization = no
			}
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_coa = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_coa < 1 } }
				set_variable = { SOV_coa = 0 }
			}
			else = { add_to_variable = { SOV_coa = -1 } }
			every_owned_state = {
				limit = {
					OR = {
						state = 653
						state = 572
						state = 403
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			hidden_effect = {
				add_to_variable = { SOV_collectivization_process = 1 }
				if = {
					limit = { check_variable = { SOV_collectivization_process > 5 } }
					country_event = SOV_flavor.36
				}
			}
			if = {
				limit = { SOV_inadequately_prepared_collectivization = no }
				SOV_exploitation_of_peasants = yes
			}
		}
	}

	SOV_collectivization_of_agriculture_in_Ukraine = {
		priority = 94
		icon = GFX_decision_POL_looming_peasants_strike
		visible = {
			has_completed_focus = SOV_reorganize_committee_of_agriculture
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_collectivization_of_agriculture_tt
				check_variable = { SOV_coa < 2 }
			}
		}
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 199 }
		}
		fire_only_once = yes
		days_remove = 270
		highlight_states = {
			highlight_state_targets = {
				state = 821
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				SOV_inadequately_prepared_collectivization = no
			}
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_coa = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_coa < 1 } }
				set_variable = { SOV_coa = 0 }
			}
			else = { add_to_variable = { SOV_coa = -1 } }
			every_owned_state = {
				limit = {
					OR = {
						state = 227
						state = 228
						state = 200
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			hidden_effect = {
				add_to_variable = { SOV_collectivization_process = 1 }
				if = {
					limit = { check_variable = { SOV_collectivization_process > 5 } }
					country_event = SOV_flavor.36
				}
			}
			if = {
				limit = { SOV_inadequately_prepared_collectivization = no }
				SOV_exploitation_of_peasants = yes
			}
		}
	}

	SOV_dec_build_tractor_factory = {
		icon = GFX_decision_generic_merge_plant_materiel
		fire_only_once = yes
		priority = 93
		on_map_mode = map_and_decisions_view
		allowed = {
			always = no
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_tractor_factory_tt
				check_variable = { SOV_tractor_building < 3 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
		state_target = yes
		days_remove = 120
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 200 }
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_tractor_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_tractor_building < 1 } }
				set_variable = { SOV_tractor_building = 0 }
			}
			else = { add_to_variable = { SOV_tractor_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = arms_factory
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
					}
				}
			}
		}
	}

	SOV_dec_build_collective_farm = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_factory
		fire_only_once = yes
		priority = 92
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_tractor_factory_tt
				check_variable = { SOV_tractor_building < 3 }
			}
		}
		state_target = yes
		days_remove = 120
		custom_cost_text = RUS_200_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 200 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -200 }
			add_to_variable = { SOV_tractor_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_tractor_building < 1 } }
				set_variable = { SOV_tractor_building = 0 }
			}
			else = { add_to_variable = { SOV_tractor_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
	}
}

SOV_development_of_industry_category = {

	SOV_build_landmark_palace_of_soviets = {
		icon = generic_construction
		allowed = { tag = SOV }
		on_map_mode = decision_view_only
		visible = {
			has_completed_focus = SOV_fourth_five_year_project
		}
		available = {
			num_of_civilian_factories_available_for_projects > 49
			owns_state = 219
			controls_state = 219
		}
		fire_only_once = yes
		cost = 15
		days_remove = 100
		highlight_states = {
			highlight_provinces = { 6380 }
		}
		modifier = {
			civilian_factory_use = 50
		}
		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			219 = {
				if = {
					limit = { infrastructure < 4 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				custom_effect_tooltip = landmark_palace_of_soviets_TT
			}
			hidden_effect = {
				219 = {
					add_building_construction = {
						type = landmark_palace_of_soviets
						level = 1
						instant_build = yes
						province = 6380
					}
				}
			}
		}
	}

	SOV_build_WW2_Memorial_Statue = {
		icon = generic_construction
		allowed = { tag = SOV }
		on_map_mode = decision_view_only
		visible = {
			has_country_flag = SOV_build_WW2_Memorial_Statue_visible
		}
		available = {
			num_of_civilian_factories_available_for_projects > 24
			owns_state = 217
			controls_state = 217
		}
		fire_only_once = yes
		cost = 15
		days_remove = 100
		highlight_states = {
			highlight_provinces = { 3529 }
		}
		modifier = {
			civilian_factory_use = 25
		}
		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			217 = {
				if = {
					limit = { infrastructure < 4 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				custom_effect_tooltip = landmark_mother_motherland_is_calling_TT
			}
			hidden_effect = {
				217 = {
					add_building_construction = {
						type = landmark_mother_motherland_is_calling
						level = 1
						instant_build = yes
						province = 3529
					}
				}
			}
		}
	}

	SOV_dec_build_civil_factories = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_factory
		fire_only_once = yes
		priority = 99
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 10000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { SOV_building < 3 }
			}
		}
		state_target = yes
		days_remove = var:SPU
		custom_cost_text = RUS_150_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 150 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -150 }
			add_to_variable = { SOV_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_building < 1 } }
				set_variable = { SOV_building = 0 }
			}
			else = { add_to_variable = { SOV_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
	}

	SOV_dec_promote_urbanization = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		priority = 99
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
		}
		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_steel_complex
		}
		visible = {
			has_completed_focus = SOV_steel_complex
			FROM = {
				NOT = { has_state_flag = SOV_promoted_urbanization }
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				add = 100
				has_political_power > 500
			}

		}
		available = {
			FROM = {
				infrastructure > 2
			}
			custom_trigger_tooltip = {
				tooltip = SOV_dec_promote_urbanization_tt
				check_variable = { SOV_build_urban < 3 }
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				OR = {
					is_core_of = ROOT
				    is_claimed_by = ROOT
				}
				OR = {
					has_state_category = four
					has_state_category = five
					has_state_category = six
				}
			}
		}
		state_target = yes
		days_remove = var:SPU
		cost = 50
		complete_effect = {
			add_to_variable = { SOV_build_urban = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_build_urban < 1 } }
				set_variable = { SOV_build_urban = 0 }
			}
			else = { add_to_variable = { SOV_build_urban = -1 } }
			FROM = {
				SOV_promote_regional_development = yes
				set_state_flag = SOV_promoted_urbanization
			}
		}
	}

	SOV_Start_Siberian_Great_Development = {  ##开始西伯利亚大开发
		visible = {
			has_completed_focus = SOV_Siberian_Great_Development
			not = {
				has_country_flag = SOV_Siberian_Great_Developmenting
			}
		}
		complete_effect = {
			set_country_flag = SOV_Siberian_Great_Developmenting
			activate_mission = SOV_Siberian_Great_Developmenting
			add_ideas = SOV_Siberian_Great_Developmenting_idea
		}
		ai_will_do = {
			factor = 1
		}
	}

	SOV_End_Siberian_Great_Development = {  ##结束西伯利亚大开发
		visible = {
			has_completed_focus = SOV_Siberian_Great_Development
			has_country_flag = SOV_Siberian_Great_Developmenting
		}
		complete_effect = {
			clr_country_flag = SOV_Siberian_Great_Developmenting
			remove_ideas = SOV_Siberian_Great_Developmenting_idea
		}
		ai_will_do = {
			factor = 0
		}
	}

	SOV_Siberian_Great_Developmenting = {  ##西伯利亚大开发
		icon = GFX_decision_generic_construction
		available = {
			hidden_trigger = {
				always = no
			}
		}
		priority = 100
		days_mission_timeout = 60
		activation = {
			always = no
		}
		visible = {
		}
		cancel_if_not_visible = yes
		selectable_mission = yes
		cancel_trigger = {
			hidden_trigger = { not = { has_country_flag = SOV_Siberian_Great_Developmenting } }
		}
		timeout_effect = {
			hidden_effect = {
				activate_mission = SOV_Siberian_Great_Developmenting
			}
			random_state = {
				limit = {
					is_on_continent = asia
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
					or = {
						has_state_category = zero
						has_state_category = one
						has_state_category = two
						has_state_category = three
						has_state_category = four
						has_state_category = five
						has_state_category = six
					}
				}
				increase_state_category_by_one_level = yes
			}
		}
	}
}

SOV_territorial_affairs = {

	SOV_integrate_Kiev_region = {
		icon = GFX_decision_infiltrate_state
		allowed = { tag = SOV }
		visible = {
			tag = SOV
			UKR = { is_subject_of = ROOT }
		}
		available = {
			UKR = { is_subject_of = ROOT }
		}
		ai_will_do = {
			factor = 100000
		}
		cost = 100
		days_remove = 270
		fire_only_once = yes
		remove_effect = {
			UKR = {
				every_character = {
					limit = { has_character_flag = UKR_take_neutral_position_flag }
					set_nationality = SOV
				}
				every_core_state = {
					limit = { is_fully_controlled_by = PREV }
					add_core_of_ROOT = yes
				}
				every_core_state = {
					limit = { not = { is_core_of = ROOT } }
					add_claim_by = ROOT
				}
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
		}
	}
	SOV_rename_Kaliningrad = {
		icon = GFX_decision_hol_draw_up_staff_plans
		allowed = {
		}
		visible = {
			tag = SOV
			controls_state = 5
		}
		available = {
			controls_state = 5
		}
		fire_only_once = yes
		cost = 10
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			5 = { set_state_name = "Kaliningrad" }
			set_province_name = {
				id = 6332
				name = "Kaliningrad"
			}
			add_state_claim = 5
			5 = { enable_state_integration_80_compliance = yes }
		}
	}
}

SOV_industrial_migration_category = {

	SOV_dec_army_industrial_migration = {
		icon = GFX_decision_generic_industry
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		allowed = {
			original_tag = SOV
		}
		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_migration_of_industries
			has_war = no
		}
		visible = {
			has_completed_focus = SOV_migration_of_industries
			FROM = {
				NOT = { has_state_flag = SOV_army_inward_migration }
				arms_factory > 0
			}
		}
		ai_will_do = {
			factor = 1000
		}
		available = {
			has_war = no
			custom_trigger_tooltip = {
				tooltip = SOV_industrial_migration_tt
				check_variable = { SOV_migration < 5 }
			}
		}
		target_trigger = {
			FROM = {
				OR = {
					region = 132
					region = 133
					region = 150
					region = 12
					region = 165
					region = 130
					region = 134
					region = 135
					region = 40
				}
				is_controlled_by = ROOT
				OR = {
					is_core_of = ROOT
				    is_claimed_by = ROOT
				}
				NOT = {
					has_state_category = zero
					has_state_category = zero_island
					has_state_category = wasteland
					has_state_category = one
					has_state_category = two
					has_state_category = three
					has_state_category = four
				}
			}
		}
		state_target = yes
		days_remove = 60
		cost = 10
		complete_effect = {
			add_to_variable = { SOV_migration = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_migration < 0 } }
				set_variable = { SOV_migration = 0 }
			}
			else = {
				add_to_variable = { SOV_migration = -1 }
			}
			FROM = {
				remove_building = {
					type = arms_factory
					level = 1
				}
				set_state_flag = SOV_army_inward_migration
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						region = 14
						region = 136
						region = 151
						region = 235
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
				}
				hidden_effect = { SOV_promote_regional_development = yes }
				custom_effect_tooltip = SOV_upgrading_area_type_tt
			}
			hidden_effect = {
				add_to_variable = { SOV_youth_party_loyalty_var = 1 }
				add_to_variable = { SOV_youth_party_pp_var = 1 }
			}
			custom_effect_tooltip = SOV_youth_partyn_party_loyalty_1_influence_1_tt
		}
	}

	SOV_dec_civil_industrial_migration = {
		icon = GFX_decision_generic_trucks
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		allowed = {
			original_tag = SOV
		}
		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_migration_of_industries
			has_war = no
		}
		visible = {
			has_completed_focus = SOV_migration_of_industries
			FROM = {
				NOT = { has_state_flag = SOV_civil_inward_migration }
				industrial_complex > 0
			}
		}
		ai_will_do = {
			factor = 1000
		}
		available = {
			has_war = no
			custom_trigger_tooltip = {
				tooltip = SOV_industrial_migration_tt
				check_variable = { SOV_migration < 5 }
			}
		}
		target_trigger = {
			FROM = {
				OR = {
					region = 132
					region = 133
					region = 150
					region = 12
					region = 165
					region = 130
					region = 134
					region = 135
					region = 40
				}
				is_controlled_by = ROOT
				OR = {
					is_core_of = ROOT
				    is_claimed_by = ROOT
				}
				NOT = {
					has_state_category = zero
					has_state_category = zero_island
					has_state_category = wasteland
					has_state_category = one
					has_state_category = two
					has_state_category = three
					has_state_category = four
				}
			}
		}
		state_target = yes
		days_remove = 60
		cost = 10
		complete_effect = {
			add_to_variable = { SOV_migration = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { SOV_migration < 0 } }
				set_variable = { SOV_migration = 0 }
			}
			else = {
				add_to_variable = { SOV_migration = -1 }
			}
			FROM = {
				remove_building = {
					type = industrial_complex
					level = 1
				}
				set_state_flag = SOV_civil_inward_migration
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						region = 14
						region = 136
						region = 151
						region = 235
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				hidden_effect = { SOV_promote_regional_development = yes }
				custom_effect_tooltip = SOV_upgrading_area_type_tt
			}
			hidden_effect = {
				add_to_variable = { SOV_youth_party_loyalty_var = 1 }
				add_to_variable = { SOV_youth_party_pp_var = 1 }
			}
			custom_effect_tooltip = SOV_youth_partyn_party_loyalty_1_influence_1_tt
		}
	}
}

SOV_special_military_operations_category = {

	SOV_special_operation_failure = {
		priority = 99
		icon = GFX_decision_hol_draw_up_staff_plans
		activation = {   
			always = no
		}  
		visible = {
			tag = SOV
		}    
		available = {
			UKR = {
				OR = {
					exists = no
					is_subject_of = SOV
				}
			}
		}
		cancel_trigger = {
			202 = { is_controlled_by_ROOT_or_ally = yes }
		}
		days_mission_timeout = 180
		is_good = no
		fire_only_once = yes
		cancel_effect = {
			SOV = {
				effect_tooltip = { white_peace = UKR }
				hidden_effect = {
					white_peace = {
						tag = UKR
						message = SOV_win_UKR
					}
					if = {
						limit = { has_country_flag = SOV_special_operation_failure_decsison }
						clr_country_flag = SOV_special_operation_failure_decsison
						country_event = { id = SOV_flavor.20 days = 1 }
					}
					clr_country_flag = SOV_special_military_operations_start
					country_event = SOV_flavor.23
					news_event = { id = SOV_news.7 hours = 6 }
				}
				set_autonomy = {
					target = UKR
					autonomous_state = SOV_member_state
				}
				unlock_decision_tooltip = SOV_integrate_Kiev_region
			}
			UKR = {
				create_country_leader = {
					name = SOV_Lada   ##拉达
					desc = ""
					picture = "gfx/leaders/SOV/Gummy.dds"
					expire = "1985.1.1"
					ideology = leninism
					traits = {}
				}
			}
		}
		timeout_effect = {      
			SOV = {
				add_ideas = UKR_Mutinous_army_idea
				add_ideas = UKR_Administrative_chaos_idea
				add_ideas = UKR_Recurring_rebellions_idea
				hidden_effect = {
					country_event = { days = 3 id = SOV_flavor.24 }
					news_event = SOV_news.6
					set_country_flag = SOV_special_operation_failure_decsison
					set_country_flag = SOV_special_operation_failure_flag
				}
				load_focus_tree = SOV_fall_focus
				complete_national_focus = SOV_Shameful_display
				mark_focus_tree_layout_dirty = yes
			}
			hidden_effect = {
				UKR = {
					add_timed_idea = {
						idea = UKR_special_operation_SOV_win
						days = 365
					}
					UKR_become_great = yes
					activate_mission = UKR_a_vigorous_attack
					country_event = {
						id = ukr_politics.48
					}
				}
			}
	    }
		
	}
}

SOV_propaganda_campaigns = {

	SOV_propaganda_motherland_calls = { # ID = 3
		priority = 2

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				surrender_progress > 0.4
			}
			modifier = {
				add = 100
				has_manpower < 500000
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 180

		days_re_enable = 90

		cost = 50

		modifier = {
			weekly_manpower = 3000
			training_time_factor = -0.1
			minimum_training_level = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 3 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 3 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_victory_at_hand = { # ID = 4
		priority = 3

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			surrender_progress < 0.01
			any_enemy_country = {
				is_major = yes
				ROOT = {
					any_controlled_state = {
						is_core_of = PREV.PREV
					}
				}
			}
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			army_attack_factor = 0.05
			army_speed_factor = 0.1
			org_loss_when_moving = -0.25
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 4 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 4 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_defend_moscow = { # ID = 5
		priority = 4

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			controls_state = 219 #Moscow
			219 = {
				any_neighbor_state = {
					controller = {
						has_war_with = ROOT
					}
				}
			}
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 5 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes

			219 = { #Moscow
				add_dynamic_modifier = { modifier = SOV_defend_moscow scope = SOV }
				every_neighbor_state = {
					add_dynamic_modifier = { modifier = SOV_defend_moscow scope = SOV }
				}
			}
			custom_effect_tooltip = SOV_propaganda_defend_moscow_state_modifier_tt
		}

		remove_effect = {
			219 = { #Moscow
				remove_dynamic_modifier = { modifier = SOV_defend_moscow }
				every_neighbor_state = {
					remove_dynamic_modifier = { modifier = SOV_defend_moscow }
				}
			}

			set_variable = { SOV_propaganda_campaign_to_remove = 5 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_fight_to_the_last = { # ID = 6
		priority = 5

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0.75
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war = yes
			surrender_progress > 0.1
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 150

		days_re_enable = 90


		cost = 50

		modifier = {
			army_core_defence_factor = 0.15
			out_of_supply_factor = -0.1
			no_supply_grace = 72
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 6 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 6 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_hit_of_hammer = { # ID = 7
		priority = 6

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
		}

		visible = {
			has_completed_focus = SOV_revive_the_stakhanovite_movement
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			industrial_capacity_factory = 0.15
			industrial_capacity_dockyard = 0.10
			equipment_capture = 0.15
		}
		

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 7 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 7 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_transport = { # ID = 8
		priority = 7

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0.7
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			production_speed_supply_node_factor = 0.15
			production_speed_rail_way_factor = 0.15
			supply_consumption_factor = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 8 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 8 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_oil_for_the_motherland = { # ID = 9
		priority = 8

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				fuel_ratio < 0.5
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			any_controlled_state = {
				has_resources_amount = {
					resource = oil
					amount > 0
				}
			}
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			fuel_gain_factor = 0.25
			army_fuel_consumption_factor = -0.20
			air_fuel_consumption_factor = -0.20
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 9 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 9 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_more_metal = { # ID = 10
		priority = 9

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0.8
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			any_controlled_state = {
				OR = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
					has_resources_amount = {
						resource = chromium
						amount > 0
					}
					has_resources_amount = {
						resource = tungsten
						amount > 0
					}
				}
			}
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 180

		days_re_enable = 30

		cost = 50

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 10 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			hidden_effect = {
				capital_scope = {
					set_variable = { SOV_steel_bonus = 0 }
					set_variable = { SOV_aluminium_bonus = 0 }
					set_variable = { SOV_chromium_bonus = 0 }
					set_variable = { SOV_tungsten_bonus = 0 }
				}
				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = steel
							amount > 0
						}
					}
					capital_scope ={add_to_variable = { SOV_steel_bonus = 1 }}
				}

				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = aluminium
							amount > 0
						}
					}
					capital_scope ={add_to_variable = { SOV_aluminium_bonus = 2 }}
				}

				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = chromium
							amount > 0
						}
					}
					capital_scope ={add_to_variable = { SOV_chromium_bonus = 1 }}
				}

				every_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = tungsten
							amount > 0
						}
					}
					capital_scope ={add_to_variable = { SOV_tungsten_bonus = 2 }}
				}
			}

			capital_scope = {
				add_dynamic_modifier = { modifier = SOV_increased_metals_production }
			}

			custom_effect_tooltip = SOV_propaganda_more_metal_tt
		}

		remove_effect = {
			capital_scope = {
				remove_dynamic_modifier = { modifier = SOV_increased_metals_production }
			}

			set_variable = { SOV_propaganda_campaign_to_remove = 10 }
			SOV_reset_propaganda_campaign_slot_effect = yes
		}
	}

	SOV_propaganda_high_yield = { # ID = 11
		priority = 10

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				add = 1000
				has_war = no
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			surrender_progress < 0.15
		}

		visible = {
			has_completed_focus = SOV_establish_propaganda_front
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50
		modifier = {
			production_speed_industrial_complex_factor = 0.1
			production_speed_infrastructure_factor = 0.15
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 11 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 11 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_for_the_motherland = { # ID = 12
		priority = 11

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}

		visible = {
			has_completed_focus = SOV_collectivist_propaganda
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			army_core_defence_factor = 0.15
			command_power_gain = 0.25
			breakthrough_factor = 0.075
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 12 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 12 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_hero_forward = { # ID = 13
		priority = 12

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war = yes
			any_army_leader = {
				is_assigned = yes
			}
		}

		visible = {
			has_completed_focus = SOV_positive_heroism
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50
		modifier = {
			attrition = -0.08
			army_morale_factor = 0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 13 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes

			custom_effect_tooltip = SOV_propaganda_hero_forward_tt

			set_temp_variable = { temp_targets_index = 0 }
			while_loop_effect = {
				limit = {
					check_variable = { temp_targets_index < 5 }
				}
				if = {
					limit = {
						any_army_leader = {
							is_assigned = yes
							NOT = { has_trait = trait_SOV_hero }
						}
					}
					random_army_leader = {
						limit = {
							is_assigned = yes
							NOT = { has_trait = trait_SOV_hero }
						}
						add_timed_unit_leader_trait = {
							trait = trait_SOV_hero
							days = 180 #Does not seem to support vars
						}
					}
				}
				else = {
					random_army_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_hero }
						}
						add_timed_unit_leader_trait = {
							trait = trait_SOV_hero
							days = 180 #Does not seem to support vars
						}
					}
				}
				add_to_temp_variable = { temp_targets_index = 1 }
			}
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 13 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_anti_cupism = { # ID = 14
		priority = 13

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				any_enemy_country = {
					is_major = yes
					has_government = democratic
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war_with = ENG
		}

		visible = {
			has_completed_focus = SOV_echo_central_America
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			opinion_gain_monthly_same_ideology_factor = 0.25
			democratic_acceptance = -100
			democratic_drift = -0.1

		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 14 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 14 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_anti_Aliens = { # ID = 15
		priority = 14

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				any_enemy_country = {
					is_major = yes
					has_government = fascism
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war_with = DVL
		}

		visible = {
			has_completed_focus = SOV_earth_security_policy
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			opinion_gain_monthly_same_ideology_factor = 0.25
			fascism_acceptance = -100
			fascism_drift = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 15 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes	
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 15 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_treacherous_enemy = { # ID = 16
		priority = 15

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				agency_upgrade_number > 4
			}
			modifier = {
				factor = 0
				has_intelligence_agency = no
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			agency_upgrade_number > 4
			has_completed_focus = SOV_collectivist_propaganda
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			encryption = 1
			enemy_operative_detection_chance_factor = 0.75
			enemy_operative_capture_chance_factor = 0.75
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 16 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 16 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_do_not_blab = { # ID = 17
		priority = 16

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0
			modifier = {
				factor = 5
				has_war = yes
			}
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				has_intelligence_agency = no
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			has_intelligence_agency = yes
			has_completed_focus = SOV_collectivist_propaganda
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			army_intel_to_others = -50
			navy_intel_to_others = -50
			airforce_intel_to_others = -50
			civilian_intel_to_others = -50
			foreign_subversive_activites = -0.25
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 17 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 17 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_sweep_scum_out = { # ID = 18
		priority = 17

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0.001
				surrender_progress > 0.75
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			has_completed_focus = SOV_the_komsomol
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			army_core_attack_factor = 0.15
			army_core_defence_factor = 0.10
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 18 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 18 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_knowledge = { # ID = 19
		priority = 18

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 5
			modifier = {
				factor = 100
				has_war = no
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			has_completed_focus = SOV_the_komsomol
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			research_speed_factor = 0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 19 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 19 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_builders = { # ID = 20
		priority = 19

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 100
				has_war = no
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			has_completed_focus = SOV_the_komsomol
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			research_speed_factor = 0.02
			communism_drift = 0.1
			opinion_gain_monthly_same_ideology_factor = 0.25
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 20 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			custom_effect_tooltip = SOV_propaganda_builders_effect_tt
			if = {
				limit = {
					any_country = {
						is_subject_of = ROOT
					}
				}
				hidden_effect = {
					every_country = {
						limit = {
							is_subject_of = ROOT
						}
						country_event = SOV_pub.1
					}
				}
			}
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 20 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_glory_to_partisans = { # ID = 21
		priority = 20

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0.1
			modifier = {
				factor = 10
				agency_upgrade_number > 4
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			has_completed_focus = SOV_positive_heroism
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			operation_targeted_sabotage_resources_outcome = 0.25
			operation_targeted_sabotage_infrastructure_outcome = 0.25
			operation_targeted_sabotage_industry_outcome = 0.25
			operation_make_resistance_contacts_outcome = 0.25
			operation_boost_resistance_outcome = 0.25
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 21 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 21 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_death_to_invaders = { # ID = 22
		priority = 21

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 100
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			has_completed_focus = SOV_positive_heroism
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 22 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			set_global_flag = SOV_propaganda_death_to_invaders_active_flag #This is used to dynamically add/remove the state modifier when a state is gained/lost by SOV

			if = {
				limit = {
					any_enemy_country = {
						any_controlled_state = {
							is_core_of = ROOT
						}
					}
				}
				every_enemy_country = {
					limit = {
						any_controlled_state = {
							is_core_of = ROOT
						}
					}
					every_controlled_state = {
						limit = {
							is_core_of = ROOT
						}
						add_dynamic_modifier = { modifier = SOV_invaders_must_die }
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_propaganda_death_to_invaders_no_invaders_tt
			}
			custom_effect_tooltip = SOV_propaganda_death_to_invaders_state_modifier_tt
		}

		remove_effect = {
			every_state = {
				limit = {
					has_dynamic_modifier = { modifier = SOV_invaders_must_die }
				}
				remove_dynamic_modifier = { modifier = SOV_invaders_must_die }
			}

			clr_global_flag = SOV_propaganda_death_to_invaders_active_flag

			set_variable = { SOV_propaganda_campaign_to_remove = 22 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_rebuild_to_glory = { # ID = 24
		priority = 23

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 3
			modifier = {
				factor = 100
				has_war = no
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
			has_completed_focus = SOV_frozen_sprout
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			industry_repair_factor = 0.15
			production_speed_buildings_factor = 0.10
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 24 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 24 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_peace = { # ID = 25
		priority = 24

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				any_country = {
					SOV = { is_justifying_wargoal_against = PREV }
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = no
		}

		visible = {
			has_completed_focus = SOV_free_medical_care
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			stability_weekly = 0.005
			consumer_goods_factor = -0.06
			opinion_gain_monthly_factor = 0.25
			enemy_justify_war_goal_time = 0.50
			industrial_capacity_factory = 0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 25 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			set_rule = { can_send_volunteers = no }

		}

		remove_effect = {
			set_rule = { can_send_volunteers = yes }
			set_variable = { SOV_propaganda_campaign_to_remove = 25 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}

	SOV_propaganda_happy_life = { # ID = 26
		priority = 25

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 3
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 10
				has_stability < 0.4
			}
			modifier = {
				factor = 10
				has_stability < 0.2
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			surrender_progress < 0.01
		}

		visible = {
			has_completed_focus = SOV_free_medical_care
		}

		days_remove = 150

		days_re_enable = 90

		cost = 50

		modifier = {
			stability_weekly = 0.01
			compliance_growth = 0.05
			resistance_decay = 0.05
			resistance_damage_to_garrison = 0.15
			consumer_goods_factor = 0.06
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 26 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 26 }
			SOV_reset_propaganda_campaign_slot_effect = yes
			custom_effect_tooltip = SOV_propaganda_campaign_reuse_tt
		}
	}
}

foreign_influence = {
	SOV_censor_assembly = {
		icon = GFX_decision_generic_arrest
		priority = 99
		visible = { 
			has_idea = SOV_ideological_assembly
			has_country_flag = SOV_censor_assembly_flag
	    }
		available = {
			has_idea = SOV_ideological_assembly
		}
		cost = 50
		days_remove = 30
		modifier = {
			political_power_cost = 0.1
			communism_drift = -0.05
		}
		remove_effect = {
			remove_ideas = SOV_ideological_assembly
			hidden_effect = {
				clr_country_flag = SOV_censor_assembly_flag
			}
		}
	}
}

SOV_dip_agitprop_category = {  ##输出革命

	SOV_march_on_Minsk = {  ##向明斯克前进
		icon = GFX_decision_generic_civil_support
		allowed = {
			always = no
		}
		visible = {
			NOT = {
				owns_state = 1087
				owns_state = 206
				owns_state = 194
				owns_state = 207
			}
		}
		available = {
			FROM = {
				is_neighbor_of = ROOT
			}
			if = {
				limit = { is_in_faction_with = DVL }
				date > 1942.6.1
			}
		}
		days_remove = 14
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				FROM = {
					is_in_faction_with = DVL
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = GER	
				}
				country_exists = DVL
			}
		}
		cancel_trigger = {
			date < 1942.6.1
			FROM = {
				is_in_faction_with = DVL
			}
		}
		cost = 10
		war_with_target_on_remove = yes
		fire_only_once = yes
		complete_effect = {
			FROM = { country_event = SOV_flavor.30 }
		}
		remove_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}

	SOV_down_to_the_Balkans = {  ##南下巴尔干
		icon = GFX_decision_generic_civil_support
		visible = {
			is_subject = no
			has_country_flag = SOV_down_to_the_Balkans_flag
		}
		available = {
			78 = {
				owner = { is_neighbor_of = ROOT }
			}
		}
		cost = 10
		fire_only_once = yes
		days_remove = 14
		war_with_target_on_remove = yes
		complete_effect = {
			78 = {
				owner = { country_event = SOV_flavor.30 }
			}
		}
		remove_effect = {
			78 = {
				owner = {
					ROOT = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
		}
	}

	SOV_encourage_communist_rallies_in_dec = {  ##解放[From.GetName]的人民
		priority = 1
		allowed = { always = no }
		visible = { 
			FROM = {
				NOT = { has_government = communism }
				exists = yes
		    } 
	    }
		ai_will_do = {
			base = 5
			modifier = {
				factor = 10
				NOT = { has_country_flag = SOV_plague_start }
			}
		}
		available = {  }
		cost = 50
		days_remove = 30
		fire_only_once = yes
		remove_effect = {
			FROM = {
				country_event = SOV_dip.3
				add_timed_idea = {
					idea = SOV_ideological_assembly
					days = 365
				}
			}
		}
	}

	SOV_Intervene_Tresen_Civil_War = {  ##介入特雷森内战
		priority = 2
		allowed = { original_tag = sov }
		visible = { 
			has_completed_focus = SOV_Instigate_Tresen_Civil_War
	    }
		ai_will_do = {
			base = 0
		}
		available = {
			TAM = {
				exists = yes 
				has_war_with = PER
				has_war_with = AFG
			}
			SOV = {
				has_war = no
			}
		}
		cost = 15
		fire_only_once = yes
		complete_effect = {
			add_to_war = {
				targeted_alliance = TAM
				enemy = PER
			}
			activate_mission = SOV_special_operation_to_TAM
		}
	}

	SOV_special_operation_to_TAM = {
		priority = 3
		icon = GFX_decision_hol_draw_up_staff_plans
		activation = {   
			always = no
		}  
		visible = {
			tag = SOV
		}    
		available = {
			hidden_trigger = {
				always = no
			}
		}
		cancel_trigger = {
			PER = {
				OR = {
					exists = no
					is_subject_of = SOV
					is_subject_of = TAM
				}
			}
			AFG = {
				OR = {
					exists = no
					is_subject_of = SOV
					is_subject_of = TAM
				}
			}
		}
		days_mission_timeout = 180
		is_good = no
		fire_only_once = yes
		cancel_effect = {
			SOV = {
				custom_effect_tooltip = SOV_special_operation_to_TAM_tt 
				hidden_effect = {
					PER = { 
						for_loop_effect = {
							end = global.SOV_Intervene_Tresen_Civil_War_PER^num
							value = v
							transfer_state = var:global.SOV_Intervene_Tresen_Civil_War_PER^v
						}
					}
					AFG = { 
						for_loop_effect = {
							end = global.SOV_Intervene_Tresen_Civil_War_AFG^num
							value = v
							transfer_state = var:global.SOV_Intervene_Tresen_Civil_War_AFG^v
						}
					}
					TAM = { 
						for_loop_effect = {
							end = global.SOV_Intervene_Tresen_Civil_War_TAM^num
							value = v
							transfer_state = var:global.SOV_Intervene_Tresen_Civil_War_TAM^v
						}
					}
					clear_array = global.SOV_Intervene_Tresen_Civil_War_PER
					clear_array = global.SOV_Intervene_Tresen_Civil_War_AFG
					clear_array = global.SOV_Intervene_Tresen_Civil_War_TAM
				}
				puppet = TAM
			}
			
		}
		timeout_effect = {      
			custom_effect_tooltip = SOV_special_operation_to_TAM_tt
			add_political_power = -100
			add_stability = -0.1
			add_war_support = -0.1
			white_peace = PER
			white_peace = AFG
			TAM = {
				white_peace = PER
				white_peace = AFG
			}
			hidden_effect = {
				
				PER = { 
					for_loop_effect = {
						end = global.SOV_Intervene_Tresen_Civil_War_PER^num
						value = v
						transfer_state = global.SOV_Intervene_Tresen_Civil_War_PER^v
					}
				}
				AFG = { 
					for_loop_effect = {
						end = global.SOV_Intervene_Tresen_Civil_War_AFG^num
						value = v
						transfer_state = global.SOV_Intervene_Tresen_Civil_War_AFG^v
					}
				}
				TAM = { 
					for_loop_effect = {
						end = global.SOV_Intervene_Tresen_Civil_War_TAM^num
						value = v
						transfer_state = global.SOV_Intervene_Tresen_Civil_War_TAM^v
					}
				}
				clear_array = global.SOV_Intervene_Tresen_Civil_War_PER
				clear_array = global.SOV_Intervene_Tresen_Civil_War_AFG
				clear_array = global.SOV_Intervene_Tresen_Civil_War_TAM
			}
	    }
		
	}

	SOV_uphold_dec_national_self_determination = {  ##颠覆[From.GetName]反动政府
		priority = 98
		allowed = { always = no }
		visible = { 
			FROM = {
				NOT = { has_government = communism }
		    } 
	    }
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				FROM = { communism > 0.5 } 
			}
			modifier = {
				add = 100
				FROM = { communism > 0.6 } 
			}
			modifier = {
				add = 1000
				FROM = {
					OR = {
						tag = BAL
						tag = AFG
						tag = TAM
						tag = FIN
					}
				} 
			}
		}
		available = { 
			is_in_faction = yes
			OR = {
				is_faction_leader = yes
				faction_leader = {
					has_government = communism
				}
			}
			FROM = {
				communism > 0.6
				has_war = no
			} 
		}
		cost = 50
		days_remove = 21
		fire_only_once = yes
		remove_effect = {
			FROM = { country_event = SOV_dip.4 }
			custom_effect_tooltip = SOV_uphold_dec_national_self_determination_tt
		}
	}

	SOV_liberate_the_people_of_dec = {  ##解放[From.GetName]的人民
		priority = 99
		allowed = { always = no }
		visible = {
		}
		target_trigger = {
			ROOT = { is_subject = no }
			FROM = {
				not = {
					or = {
						has_war_with = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				OR = {
					is_neighbor_of = FROM
					any_allied_country = { is_neighbor_of = FROM }
				}
			}
			modifier = {
				factor = 0
				FROM = { is_in_ally = yes }
			}
			modifier = {
				factor = 10
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = no }
			}
			modifier = {
				factor = 10
				FROM = { overlord_is_stronger_than_ROOT_and_not_vulnerable = no }
			}
			modifier = {
				factor = 10
				FROM = { faction_leader_is_stronger_than_ROOT_and_not_vulnerable = no }
			}
			modifier = {
				factor = 0
				DVL = {
					AND = {
						exists = yes
						is_major = yes
					}
				}
			}
			modifier = {
				factor = 0
				any_enemy_country = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				has_country_flag = {
					flag = DVL_banished_from_earth
					days < 365
				}
			}
		}
		available = {
			NOT = { has_non_aggression_pact_with = FROM }
			FROM = {
				not = {
					or = {
						has_war_with = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			FROM_subject_neighbor_with_root = yes
		}
		war_with_target_on_remove = yes
		complete_effect = {
			FROM_country_is_defender_and_ROOT_is_accacker = yes
		}
		cost = 0
		days_remove = 30
		fire_only_once = yes
		remove_effect = {
			if = {
				limit = {
					not = { has_global_flag = second_weltkrieg_has_started }
					FROM = { tag = DVL }
				}
				custom_effect_tooltip = this_will_lead_to_second_weltkrieg
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	##整合
	SOV_integration_FROM_SOV_member_state = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			always = no
		}
		target_trigger = {
			ROOT = { is_subject = no }
		}
		available = {
			has_war = no
			FROM = { is_subject_of = ROOT }
			any_home_area_neighbor_country = {
				tag = FROM
			}
		}
		cost = 100
		days_remove = 100
		fire_only_once = yes
		remove_effect = {
			set_autonomy = {
				target = FROM
				autonomous_state = SOV_member_state
			}
			activate_targeted_decision = { target = FROM decision = SOV_integration_FROM_annex }
		}
		ai_will_do = {
			base = 1000
		}
	}
	SOV_integration_FROM_annex = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			always = no
		}
		target_trigger = {
			ROOT = { is_subject = no }
		}
		available = {
			has_war = no
			FROM = { is_subject_of = ROOT }
			any_home_area_neighbor_country = {
				tag = FROM
			}
		}
		cost = 100
		days_remove = 300
		remove_effect = {
			FROM = {
				every_core_state = {
					add_core_of = ROOT
				}
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
		}
		ai_will_do = {
			base = 1000
		}
	}

	SOV_exterminate_fascism_in_Europe = {  ##消灭[From.GetName]法西斯分子
		icon = GFX_decision_generic_tank
		visible = {
			is_subject = no
			FROM = {
				has_government = fascism
				NOT = { has_war_with = ROOT }
			}
		}
		available = {
			OR = {
				is_neighbor_of = FROM 
				any_allied_country = { is_neighbor_of = FROM }
				any_country = {
					is_in_faction_with = FROM
					is_neighbor_of = ROOT
				}
			}
			NOT = { has_country_flag = SOV_exterminating_fascism_in_Europe }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				OR = {
					NOT = { country_exists = DVL }
					DVL = { is_subject = yes }
				}
			}
			modifier = {
				factor = 10
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = no }
			}
			modifier = {
				factor = 0
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		war_with_target_on_remove = yes
		days_remove = 30
		cost = 0
		fire_only_once = yes
		complete_effect = {
			set_country_flag = SOV_exterminating_fascism_in_Europe
			FROM = { country_event = SOV_flavor.30 }
		}
		remove_effect = {
			clr_country_flag = SOV_exterminating_fascism_in_Europe
			declare_war_on = {
				target = FROM
				type = puppet_wargoal_focus
			}
		}
	}
	SOV_diplo_invite_FROM = {
		icon = GFX_decision_CHL_grant_full_rights_to_the_mapuche
		allowed = {
			always = no
		}
		target_trigger = {
			ROOT = {
				is_subject = no
				is_faction_leader = yes
			}
			FROM = {
				not = { has_country_flag = SOV_diplo_invite_FROM }
			}
		}
		available = {
			is_faction_leader = yes
			FROM = {
				is_in_faction = no
			}
			not = {
				or = {
					has_war_with = FROM
					is_in_faction_with = FROM
				}
			}
		}
		cost = 10
		days_remove = 15
		war_with_target_on_remove = yes
		remove_effect = {
			FROM = {
				set_country_flag = SOV_diplo_invite_FROM
				country_event = {
					id = generic.2008
				}
			}
		}
		ai_will_do = {
			base = 1000
		}
	}
}

SOV_expelling_alien_forces = {

	SOV_dec_contact_major_countries = {
		icon = GFX_decision_generic_nationalism
		allowed = {
			always = no
		}
		visible = {
			is_subject = no
			country_exists = FROM
			NOT = {
				has_war_with = FROM
			}
			FROM = { NOT = { is_in_faction_with = DVL } }
		}
		available = {
			is_subject = no
		}
		ai_will_do = {
			base = 50
		}
		cost = 10
		days_remove = 7
		fire_only_once = yes
		remove_effect = {
			FROM = {
				country_event = SOV_dip.17
			}
		}
	}
}
#经互会
	SOV_comecon_category = {
		
	#领导国决议

		SOV_invite_dec_to_join_comecon = {
			icon = GFX_decision_hol_exchange_intelligence_data
			priority = 98
			visible = {
				event_target:comecon_leader = { tag = ROOT }
				FROM = { NOT = { has_country_flag = had_invited_comecon } }
				FROM = { not = { has_war_with = ROOT } }
			}
			available = {
				is_subject = no
				FROM = { NOT = { has_country_flag = had_invited_comecon } }
			}
			target_trigger = {
				FROM = {
					not_in_any_economy_faction = yes
					NOT = { has_country_flag = had_invited_comecon }
					is_faction_leader = no
					is_in_faction_with = ROOT
					NOT = { has_SOV_comecon_buff = yes }
					not = { has_war_with = ROOT }
				}
			}
			days_remove = 7
			ai_will_do = {
				base = 1000
			}
			cancel_trigger = {
				FROM = { has_SOV_comecon_buff = yes }
			}
			cost = 10
			days_re_enable = 30
			fire_only_once = no
			cancel_effect = {
				add_political_power = 10
			}
			remove_effect = {
				FROM = {
					if = {
						limit = { NOT = { has_country_flag = had_invited_comecon } }
						set_country_flag = {
							flag = had_invited_comecon
							days = 360
							value = 1
						}
					}
					country_event = { id = SOV_cmea.1 days = 2 }
				}
			}
		}

		SOV_invite_dec_to_join_comecon_outside_allies = {
			icon = GFX_decision_hol_exchange_intelligence_data
			priority = 97
			allowed = {
				always = no
			}
			visible = {
				event_target:comecon_leader = { tag = ROOT }
				FROM = { 
					NOT = { 
						has_country_flag = had_invited_comecon 
						has_SOV_comecon_buff = yes
					}
				}
				FROM = { not = { has_war_with = ROOT } }
			}
			available = {
				is_subject = no
				FROM = { 
					NOT = { 
						has_country_flag = had_invited_comecon 
						has_SOV_comecon_buff = yes
					} 
				}
			}
			days_remove = 7
			ai_will_do = {
				base = 1000
			}
			cancel_trigger = {
				FROM = { has_SOV_comecon_buff = yes }
			}
			cost = 10
			days_re_enable = 30
			fire_only_once = no
			cancel_effect = {
				add_political_power = 10
			}
			remove_effect = {
				FROM = {
					set_country_flag = {
						flag = had_invited_comecon
						days = 360
						value = 1
					}
					country_event = { id = SOV_cmea.1 days = 2 }
				}
			}
		}

		SOV_invite_dec_to_join_comecon_research_organization = {
			icon = GFX_decision_hol_exchange_intelligence_data
			priority = 98
			visible = {
				is_in_tech_sharing_group = comecon_research_organization
			}
			available = {
				is_subject = no
			}
			target_trigger = {
				FROM = {
					check_variable = { THIS.economy_faction_var = 2 }
					not = { is_in_tech_sharing_group = comecon_research_organization }
					not = { has_war_with = ROOT }
				}
			}
			days_remove = 7
			ai_will_do = {
				base = 1000
			}
			cancel_trigger = {
				FROM = { is_in_tech_sharing_group = comecon_research_organization }
			}
			cost = 10
			days_re_enable = 30
			fire_only_once = no
			cancel_effect = {
				add_political_power = 10
			}
			remove_effect = {
				FROM = {
					add_to_tech_sharing_group = comecon_research_organization
				}
			}
		}

		# SOV_establish_research_organization = {
		# 	priority = 96
		# 	visible = {
		# 		has_dynamic_modifier = {
		# 			modifier = SOV_comecon_leader
		# 		}
		# 	}
		# 	available = {
		# 		custom_trigger_tooltip = {
		# 			tooltip = SOV_establish_research_organization_tt
		# 			check_variable = {
		# 				global.num_comecon_member > 4
		# 			}
		# 		}
		# 	}
		# 	days_remove = 14
		# 	ai_will_do = {
		# 		base = 100
		# 	}
		# 	cost = 100
		# 	fire_only_once = yes
		# 	remove_effect = {
		# 		add_research_slot = 1
		# 		add_to_tech_sharing_group = comecon_research_organization
		# 		every_other_country = {
		# 			limit = {
		# 				is_in_faction_with = SOV
		# 				has_SOV_comecon_buff = yes
		# 			}
		# 			add_to_tech_sharing_group = comecon_research_organization
		# 		}
		# 	}
		# }

	#经济援助
		comecon_apply_for_financial_aid = {
			icon = GFX_decision_ger_mefo_bills
			priority = 12
			visible = {
				OR = {
					event_target:comecon_leader = { tag = ROOT }
					has_SOV_comecon_buff = yes
				}
			}
			available = {
				custom_trigger_tooltip = {
					tooltip = comecon_apply_for_financial_aid_tt
					check_variable = {
						ubs_load > 199
					}
				}
				custom_trigger_tooltip = {
					tooltip = comecon_apply_for_financial_ubs_save_tt
					NOT = {
						check_variable = {
							ubs_save > 0
						}
					}
				}
			}
			days_remove = 7
			ai_will_do = {
				base = 1000
			}
			cost = 10
			days_re_enable = 180
			fire_only_once = no
			complete_effect = {
				hidden_effect = {
					set_variable = {
						ROOT.sov_ea = 0
					}
				}
				set_country_flag = comecon_apply_for_financial_aid_flag
				custom_effect_tooltip = effect_apply_for_financial_aid_tt
				activate_mission = comecon_economic_aid_arrives
			}
		}

		comecon_economic_aid_arrives = {
			icon = GFX_decision_ger_mefo_bills
			priority = 11
			activation = {
				always = no
			}
			available = {
				always = no
			}
			fire_only_once = no
			days_mission_timeout = 30
			timeout_effect = {
				hidden_effect = {
					if = {
						limit = {
							check_variable = { ubs_load > ROOT.sov_ea }
						}
						subtract_from_variable = {
							ubs_load = ROOT.sov_ea
						}
					}
					else = {
						subtract_from_variable = {
							ROOT.sov_ea = ubs_load
						}
						set_variable = {
							ubs_load = 0
						}
						add_to_variable = {
							ubs_save = ROOT.sov_ea
						}
					}
					clear_variable = ROOT.sov_ea
					clr_country_flag = comecon_apply_for_financial_aid_flag
				}
				custom_effect_tooltip = comecon_economic_aid_arrives_tt
			}
		}

		comecon_provide_dec_economic_assistance = {
			priority = 10
			visible = {
				OR = {
					event_target:comecon_leader = { tag = ROOT }
					has_SOV_comecon_buff = yes
				}
			}
			target_trigger = {
				FROM = {
					NOT = { tag = ROOT }
					has_country_flag = comecon_apply_for_financial_aid_flag
					OR = {
						event_target:comecon_leader = { tag = ROOT }
						has_SOV_comecon_buff = yes
					}
				}
			}
			custom_cost_trigger = {
				check_variable = { ubs_save > 50 }
			}
			custom_cost_text = RUS_50_ubs_save_cost
			ai_will_do = {
				base = 0
				modifier = {
					add = 2.5
					check_variable = {
						ubs_save > 100
					}
				}
				modifier = {
					factor = 10
					check_variable = {
						ubs_save > 100
					}
					is_major = yes
				}
			}
			days_re_enable = 90
			fire_only_once = no
			complete_effect = {
				add_to_variable = {
					ubs_save = -50
				}
				FROM = { country_event = SOV_cmea.4 }
				add_political_power = 10
			}
		}

	#工业援助

		comecon_learn_production_technology = {
			priority = 8
			icon = GFX_decision_eng_trade_unions_support
			visible = {
				has_SOV_comecon_buff = yes
			}
			custom_cost_trigger = {
				check_variable = { ubs_save > 150 }
			}
			custom_cost_text = RUS_150_ubs_save_cost
			days_remove = 90
			ai_will_do = {
				base = 10
			}
			days_re_enable = 30
			fire_only_once = no
			complete_effect = {
				add_to_variable = {
					ubs_save = -150
				}
			}
			remove_effect = {
				random_list = {
					40 = {
						add_tech_bonus = {
							name = comecon_learn_production_technology
							bonus = 0.25
							uses = 1
							category = industry
						}
					}
					30 = {
						add_tech_bonus = {
							name = comecon_learn_production_technology
							bonus = 0.25
							uses = 1
							category = armor
						}
					}
					30 = {
						add_tech_bonus = {
							name = comecon_learn_production_technology
							bonus = 0.25
							uses = 1
							category = artillery
						}
					}
				}
			}
		}

		comecon_development_fund = {
			icon = GFX_decision_generic_fundraising
			priority = 7
			visible = {
				has_SOV_comecon_buff = yes
				industrial_complex < 45
			}
			cost = 10
			ai_will_do = {
				base = 100
			}
			days_re_enable = 180
			fire_only_once = no
			complete_effect = {
				add_to_variable = {
					ubs_save = 200
				}
				custom_effect_tooltip = comecon_development_fund_tt
			}
		}

	#武器装备采购

		comecon_purchase_infantry_equipment = {

			priority = 6

			icon = generic_industry
			allowed = {NOT = {TAG = SOV}}
			visible = {
				has_SOV_comecon_buff = yes
			}

			available = {
				NOT = { has_country_flag = comecon_purchasing_infantry_equipment_flag }
				NOT = { has_war_with = SOV }
				NOT = { is_justifying_wargoal_against = SOV }
			}

			custom_cost_trigger = {
				check_variable = { ubs_save > 50 }
			}
			custom_cost_text = RUS_50_ubs_save_cost
			cancel_if_not_visible = yes

			days_remove = 90
			days_re_enable = 30
			fire_only_once = no

			ai_will_do = {
				factor = 10
				modifier = {
					factor = 0
					OR = {
						num_of_civilian_factories < 2
						has_equipment = {
							infantry_equipment > 1500
						}
					}
				}
			}
			modifier = {
				civilian_factory_use = 1
			}
			
			complete_effect = {
				set_country_flag = comecon_purchasing_infantry_equipment_flag
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}
				}
				hidden_effect = {
					add_to_variable = {
						ubs_save = -50
					}
				}
			}
			cancel_effect = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_infantry_equipment_flag
			}
			remove_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 1500
					producer = SOV
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clr_country_flag = comecon_purchasing_infantry_equipment_flag
			}
		}

		comecon_purchase_artillery = {

			priority = 5

			icon = ger_military_buildup
			allowed = {NOT = {TAG = SOV}}
			visible = {
				has_SOV_comecon_buff = yes
			}	
			
			available = {
				has_tech = gw_artillery
				NOT = { has_country_flag = comecon_purchasing_artillery_flag }
				NOT = { has_war_with = SOV }
				NOT = { is_justifying_wargoal_against = SOV }
			}

			custom_cost_trigger = {
				check_variable = { ubs_save > 50 }
			}
			custom_cost_text = RUS_50_ubs_save_cost
			cancel_if_not_visible = yes

			days_remove = 90
			days_re_enable = 30
			fire_only_once = no

			ai_will_do = {
				factor = 10
				modifier = {
					factor = 0
					OR = {
						num_of_civilian_factories < 2
						AND = {
							has_equipment = {
								artillery_equipment > 100
							}
							if = {
								limit = {
									has_tech = interwar_antiair
								}
								has_equipment = {
									anti_air_equipment > 100
								}
							}
							if = {
								limit = {
									has_tech = interwar_antitank
								}
								has_equipment = {
									anti_tank_equipment > 100
								}
							}
						}
					}
				}
			}

			modifier = {
				civilian_factory_use = 1
			}
			
			complete_effect = {
				hidden_effect = {
					add_to_variable = {
						ubs_save = -50
					}
				}
				set_country_flag = comecon_purchasing_artillery_flag
				hidden_effect = {
					country_event = SOV_cmea.5
				}

				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}

				}
				custom_effect_tooltip = comecon_purchase_artillery_tt
			}
			cancel_effect = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_artillery_flag
			}
			remove_effect = {
				add_equipment_to_stockpile = {
					type = var:comecon_artillery_type
					amount = 200
					producer = SOV
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_artillery_type
				clr_country_flag = comecon_purchasing_artillery_flag
			}
		}

		comecon_purchase_military_vehicles = {

			priority = 4

			icon = generic_decision
			allowed = {NOT = {TAG = SOV}}
			visible = {
				has_SOV_comecon_buff = yes
			}		

			available = {
				has_tech = motorised_infantry
				NOT = { has_country_flag = comecon_purchasing_military_vehicles_flag }
				NOT = { has_war_with = SOV }
				NOT = { is_justifying_wargoal_against = SOV }
			}

			custom_cost_trigger = {
				check_variable = { ubs_save > 50 }
			}
			custom_cost_text = RUS_50_ubs_save_cost
			cancel_if_not_visible = yes

			days_remove = 90
			days_re_enable = 30
			fire_only_once = no

			ai_will_do = {
				factor = 10
				modifier = {
					factor = 0
					OR = {
						num_of_civilian_factories < 2
						has_equipment = {
							mechanized_equipment > 100
						}
					}
				}
			}

			modifier = {
				civilian_factory_use = 1
			}
			
			complete_effect = {
				set_country_flag = comecon_purchasing_military_vehicles_flag
				hidden_effect = {
					set_variable = { comecon_military_vehicles_seller = SOV }
					country_event = SOV_cmea.6
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}
				}
				hidden_effect = {
					add_to_variable = {
						ubs_save = -50
					}
				}
				custom_effect_tooltip = comecon_purchase_vehicles_tt
			}
			cancel_effect = {
				FROM = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_military_vehicles_flag
				clr_country_flag = comecon_producing_motorized_for_member_flag
				clr_country_flag = comecon_producing_mechanized_for_member_flag
			}
			remove_effect = {
				if = {
					limit = {
						has_country_flag = comecon_producing_motorized_for_member_flag
					}
					add_equipment_to_stockpile = {
						type = motorized_equipment
						amount = 200
						producer = FROM
					}
					clr_country_flag = comecon_producing_motorized_for_member_flag
				}
				else_if = {
					limit = {
						has_country_flag = comecon_producing_mechanized_for_member_flag
					}
					add_equipment_to_stockpile = {
						type = mechanized_equipment
						amount = 100
						producer = FROM
					}
					clr_country_flag = comecon_producing_mechanized_for_member_flag
				}
				FROM = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_military_vehicles_flag
			}
		}

		comecon_purchase_armor = {

			priority = 3

			icon = generic_tank
			allowed = {NOT = {TAG = SOV}}
			visible = {
				has_SOV_comecon_buff = yes
			}

			available = {
				has_tech = gwtank_chassis 
				NOT = { has_country_flag = comecon_purchasing_armor_flag }
				NOT = { has_war_with = SOV }
				NOT = { is_justifying_wargoal_against = SOV }
			}

			custom_cost_trigger = {
				check_variable = { ubs_save > 50 }
			}
			custom_cost_text = RUS_50_ubs_save_cost
			cancel_if_not_visible = yes

			days_remove = 90
			days_re_enable = 30
			fire_only_once = no

			ai_will_do = {
				factor = 10
				modifier = {
					factor = 0
					OR = {
						num_of_civilian_factories < 2
						AND = {
							has_equipment = {
								light_tank_chassis > 10
							}
							has_equipment = {
								medium_tank_chassis > 10
							}
						}
					}
				}
			}

			modifier = {
				civilian_factory_use = 1
			}
			
			complete_effect = {
				set_country_flag = comecon_purchasing_armor_flag
				hidden_effect = {
					country_event = SOV_cmea.7
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}
				}
				hidden_effect = {
					add_to_variable = {
						ubs_save = -50
					}
				}
				custom_effect_tooltip = comecon_purchase_armor_tt
			}
			cancel_effect = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_armor_flag
				clr_country_flag = comecon_producing_light_armor_for_member_flag
				clr_country_flag = comecon_producing_medium_armor_for_member_flag
			}
			remove_effect = {
				if = {
					limit = {
						has_country_flag = comecon_producing_light_armor_for_member_flag
					}
					add_equipment_to_stockpile = {
						type = var:comecon_armor_type
						amount = 80
						producer = SOV
					}
					clr_country_flag = comecon_producing_light_armor_for_member_flag 
				}
				else_if = {
					limit = {
						has_country_flag = comecon_producing_medium_armor_for_member_flag 
					}
					add_equipment_to_stockpile = {
						type = var:comecon_armor_type
						amount = 40
						producer = SOV
					}
					clr_country_flag = comecon_producing_medium_armor_for_member_flag 
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_armor_flag
			}
		}

		comecon_purchase_aircraft = {

			priority = 2

			icon = generic_air
			allowed = {NOT = {TAG = SOV}}
			visible = {
				has_SOV_comecon_buff = yes
			}

			available = {
				OR = { 
					has_tech = early_fighter 
					has_tech = iw_small_airframe 
				}
				NOT = { has_country_flag = comecon_purchasing_aircraft_flag }
				NOT = { has_war_with = SOV }
				NOT = { is_justifying_wargoal_against = SOV }
			}

			custom_cost_trigger = {
				check_variable = { ubs_save > 50 }
			}
			custom_cost_text = RUS_50_ubs_save_cost
			cancel_if_not_visible = yes

			days_remove = 90
			days_re_enable = 30
			fire_only_once = no

			ai_will_do = {
				factor = 10
				modifier = {
					factor = 0
					OR = {
						num_of_civilian_factories < 2
						AND = {
							stockpile_ratio = { 
								archetype = small_plane_airframe
								ratio > 0.75
							}
							stockpile_ratio = { 
								archetype = small_plane_naval_bomber_airframe
								ratio > 0.75
							}
							stockpile_ratio = { 
								archetype = medium_plane_airframe
								ratio > 0.75
							}
						}
					}
				}
			}

			modifier = {
				civilian_factory_use = 1
			}
			
			complete_effect = {
				set_country_flag = comecon_purchasing_aircraft_flag
				hidden_effect = {
					country_event = SOV_cmea.8
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}

				}
				hidden_effect = {
					add_to_variable = {
						ubs_save = -50
					}
				}
				custom_effect_tooltip = comecon_purchase_aircraft_tt
			}
			cancel_effect = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_aircraft_flag
				clr_country_flag = comecon_producing_fighters_for_member_flag
				clr_country_flag = comecon_producing_naval_bombers_for_member_flag
				clr_country_flag = comecon_producing_tactical_bombers_for_member_flag
			}
			remove_effect = {
				if = {
					limit = {
						has_country_flag = comecon_producing_fighters_for_member_flag
					}
					effect_tooltip = {
						add_equipment_to_stockpile = {
							type = small_plane_airframe_1
							amount = 80
							variant_name = "SU I-21F trade"
							producer = SOV
						}
					}
					clr_country_flag = comecon_producing_fighters_for_member_flag
				}
				else_if = {
					limit = {
						has_country_flag = comecon_producing_naval_bombers_for_member_flag
					}
					add_equipment_to_stockpile = {
						type = small_plane_naval_bomber_airframe_1
						amount = 60
						variant_name = "SU I-21N trade"
						producer = SOV
					}
					clr_country_flag = comecon_producing_naval_bombers_for_member_flag
				}
				else = {
					add_equipment_to_stockpile = {
						type = medium_plane_airframe_1
						amount = 40
						variant_name = "SU ANT-40 trade"
						producer = SOV
					}
					clr_country_flag = comecon_producing_tactical_bombers_for_member_flag
				}
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
				}
				clear_variable = comecon_vehicle_type
				clr_country_flag = comecon_purchasing_aircraft_flag
			}
		}

		comecon_purchase_ships = {

			priority = 1

			icon = GFX_decision_generic_naval
			allowed = {NOT = {TAG = SOV}}
			visible = {
				has_SOV_comecon_buff = yes
			}

			available = {
				OR = {
					has_tech = early_ship_hull_submarine
					has_tech = early_ship_hull_light
					has_tech = early_ship_hull_cruiser
				}
				NOT = { has_country_flag = comecon_producing_bulgarian_ships_flag }
				NOT = { has_country_flag = comecon_ships_purchase_rejected_flag }
				NOT = { has_war_with = SOV }
				NOT = { is_justifying_wargoal_against = SOV }

			}
			cancel_if_not_visible = yes

			cancel_effect = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
					clr_country_flag = comecon_producing_bulgarian_ships_flag
				}
				hidden_effect = {
					if = {
						limit = {
							OR = {
								has_country_flag = comecon_building_submarines_flag
								has_country_flag = comecon_building_destroyers_flag
								has_country_flag = comecon_building_light_cruiser_flag
							}
						}
						country_event = SOV_cmea.11
						clr_country_flag = comecon_building_submarines_flag
						clr_country_flag = comecon_building_destroyers_flag
						clr_country_flag = comecon_building_light_cruiser_flag
					}
				}
			}

			custom_cost_trigger = {
				check_variable = { ubs_save > 100 }
			}
			custom_cost_text = RUS_100_ubs_save_cost

			days_remove = 90
			days_re_enable = 30
			fire_only_once = no

			ai_will_do = {
				factor = 10
				modifier = {
					factor = 0
					num_of_naval_factories < 1
				}
				modifier = {
					factor = 10
					num_of_naval_factories > 0
					num_of_civilian_factories > 16
				}
			}
			modifier = {
				civilian_factory_use = 1
			}
			
			complete_effect = {
				SOV = {
					set_country_flag = comecon_producing_bulgarian_ships_flag
					add_offsite_building = {
						type = industrial_complex
						level = 1
					}
					country_event = { id = SOV_cmea.9 hours = 1 }
				}
				hidden_effect = {
					add_to_variable = {
						ubs_save = -100
					}
				}
			}

			remove_effect = {
				SOV = {
					add_offsite_building = {
						type = industrial_complex
						level = -1
					}
					clr_country_flag = comecon_producing_bulgarian_ships_flag
				}
				if = {
					limit = {
						has_country_flag = comecon_building_submarines_flag
					}
					hidden_effect = {
						country_event = SOV_cmea.12
					}
					custom_effect_tooltip = comecon_purchase_ships_submarines_tt
					clr_country_flag = comecon_building_submarines_flag
				}
				else_if = {
					limit = {
						has_country_flag = comecon_building_destroyers_flag
					}
					hidden_effect = {
						country_event = SOV_cmea.13
					}
					custom_effect_tooltip = comecon_purchase_ships_destroyers_tt
					clr_country_flag = comecon_building_destroyers_flag
				}
				else_if = {
					limit = {
						has_country_flag = comecon_building_light_cruiser_flag
					}
					hidden_effect = {
						country_event = SOV_cmea.14
					}
					custom_effect_tooltip = comecon_purchase_ships_light_cruiser_tt
					clr_country_flag = comecon_building_light_cruiser_flag
				}
				else = {
					custom_effect_tooltip = comecon_purchase_ships_undetermined_tt
				}
			}
		}
	}

The_comintern_international_aid_category = {
	
	SOV_red_army_met_in_central_europe = {
		icon = GFX_decision_SOV_secure_the_administration
		allowed = {
			original_tag = SOV
		}
		visible = {
			is_subject = no
			has_government = communism
			any_country = {
				is_in_third_international = yes
				any_controlled_state = { 
					any_neighbor_state = { 
						is_controlled_by = FROM
					}
				}
			}
		}
		ai_will_do = {
			base = 1000
		}
		available = {
			
		}
		target_trigger = {
			FROM = {
				is_in_third_international_westline = yes
				has_government = communism
				NOT = { has_war_with = ROOT }
			}
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			news_event = { days = 1 id = SOV_news.4 }
			FROM = {
				faction_leader = {
					every_other_country = {
						limit = { is_in_faction_with = PREV }
						SOV = { add_to_faction = PREV }
					}
					SOV = { add_to_faction = PREV }
				}
			}
		}
	}

	SOV_aid_dec_western_front = {
		icon = GFX_decision_generic_industry
		allowed = {
			original_tag = SOV
		}
		visible = {
			FROM = { NOT = { has_war_with = ROOT } }
			has_government = communism
			FROM = { 
				NOT = { is_in_faction_with = SOV } 
				exists = yes
				is_subject = no
			}
		}
		available = {
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				artillery_equipment > 299
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1.0
				OR = {
					check_variable = {
						FROM.num_equipment@infantry_equipment < 0
					}
					check_variable = {
						FROM.num_equipment@artillery_equipment < 0
					}
				}
			}
			modifier = {
				add = 0.5
				FROM = {
					has_war = yes
				}
			}
			modifier = {
				factor = 100
				has_equipment = {
					infantry_equipment > 5000
				}
				has_equipment = {
					artillery_equipment > 500
				}
			}
		}
		cost = 10
		fire_only_once = no
		days_re_enable = 90
		days_remove = 30
		remove_effect = {
			FROM = { country_event = SOV_dip.23 }
			effect_tooltip = {
				send_equipment = {
					amount = 2500
					type = infantry_equipment
					target = FROM
				}
				send_equipment = {
					amount = 300
					target = FROM
					type = artillery_equipment
				}	
			}
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -2500
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = -300
				}
			}
		}
	}

	balkan_Sovit_aid_civil_plant_construction = {
		icon = GFX_decision_generic_factory
		visible = {
			has_country_flag = balkan_Sovit_affect_Tekkadan_flag
		}
		days_re_enable = 60
		days_remove = 180
		ai_will_do = {
			base = 10
			modifier = {
				factor = 10
				has_government = communism
			}
		}
		cost = 15
		modifier = {
			communism_drift = 0.05
		}
		remove_effect = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	balkan_Call_for_gun_assistance = {
		icon = GFX_decision_generic_industry
		visible = {
			has_country_flag = balkan_Sovit_affect_Tekkadan_flag
		}
		days_re_enable = 60
		days_remove = 180
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				AND = {
					has_equipment = {
						infantry_equipment_0 < 10
					}
					has_equipment = {
						infantry_equipment_1 < 10
					}
					has_equipment = {
						infantry_equipment_2 < 10
					}
				}
			}
			modifier = {
				factor = 10
				has_war = yes
			}
		}
		cost = 15
		modifier = {
			communism_drift = 0.05
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment_1
				amount = 300
				producer = SOV
			}
		}
	}

	balkan_Asking_to_intervene = {
		icon = GFX_decision_generic_break_treaty
		visible = {
			tag = ROM
			has_country_flag = balkan_Sovit_affect_Tekkadan_flag
			has_government = communism
		}
		available = {
			surrender_progress > 0.5
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				surrender_progress > 0.9
			}
		}
		cost = 50
		days_remove = 14
		fire_only_once = yes
		remove_effect = {
			SOV = { country_event = SOV_dip.27 }
			effect_tooltip = {
				SOV = { transfer_state = 78 }
			}
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
	}
}

SOV_special_technology_research_department = {

}

SOV_operation_forgotten_cards_category = {

	SOV_forgotten_cards_will_attack = {
		priority = 100
		icon = GFX_decision_revolt
		allowed = {
			always = no 
		}
		activation = {   
			always = no
		}    
		available = {
			always = no
		}   
		days_mission_timeout = 120
		is_good = no
		fire_only_once = yes
		timeout_effect = {    
			set_country_flag = SOV_forgotten_cards_end
			country_event = SOV_pol.8
	    }
	}

	SOV_opposition_is_on_the_move_for_forgotten_cards = {
		priority = 99
		activation = {   
			always = no     
		}    
		available = {
			always = no
		}   
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		days_mission_timeout = 25
		is_good = no
		fire_only_once = no
		timeout_effect = {    
			hidden_effect = {
				if = {
					limit = { has_country_flag = SOV_forgotten_cards_start }
					activate_mission = SOV_opposition_is_on_the_move_for_forgotten_cards
				}
			}  
			random_list = {
				25 = {
					add_to_variable = { SOV_minority_for_FC = 4 }
					custom_effect_tooltip = SOV_opposition_for_FC_25_tooltip 
				}
				30 = {
					add_to_variable = { SOV_minority_for_FC = 3 }
					custom_effect_tooltip = SOV_opposition_for_FC_30_tooltip 
				}
				45 = {
					add_to_variable = { SOV_minority_for_FC = 2 }
					custom_effect_tooltip = SOV_opposition_for_FC_45_tooltip 
				}
			}
	    }
	}

	SOV_emergency_repair_communication = {
		icon = GFX_decision_generic_merge_plant_materiel
		visible = { 
			has_active_mission = SOV_forgotten_cards_will_attack
			has_country_flag = SOV_Sakura_forgotten_cards_start
	    }
		available = {
			NOT = { has_country_flag = SOV_doing_FC_work }
		}
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		cancel_if_not_visible = yes
		cost = 5
		fire_only_once = no
		ai_will_do = {
			base = 1000
		}
		days_re_enable = 25
		days_remove = 7
		complete_effect = {
			set_country_flag = SOV_doing_FC_work
		}
		remove_effect = {
			clr_country_flag = SOV_doing_FC_work
			add_to_variable = { SOV_Sakura_for_FC = 2 }
			custom_effect_tooltip = SOV_Sakura_for_FC_45_tooltip 
		}
	}

	SOV_preset_ceremony_venue = {
		icon = GFX_decision_generic_prepare_civil_war
		visible = { 
			has_active_mission = SOV_forgotten_cards_will_attack
			has_country_flag = SOV_Sakura_forgotten_cards_start
	    }
		available = {
			NOT = { has_country_flag = SOV_doing_FC_work }
		}
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		cost = 5
		fire_only_once = no
		ai_will_do = {
			base = 100
		}
		days_re_enable = 25
		days_remove = 14
		complete_effect = {
			set_country_flag = SOV_doing_FC_work
		}
		remove_effect = {
			clr_country_flag = SOV_doing_FC_work
			add_to_variable = { SOV_Sakura_for_FC = 3 }
			custom_effect_tooltip = SOV_Sakura_for_FC_30_tooltip 
		}
	}

	SOV_store_magic = {
		icon = GFX_decision_generic_research
		visible = { 
			has_active_mission = SOV_forgotten_cards_will_attack
			has_country_flag = SOV_Sakura_forgotten_cards_start
	    }
		available = {
			NOT = { has_country_flag = SOV_doing_FC_work }
		}
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		cost = 5
		fire_only_once = no
		ai_will_do = {
			base = 100
		}
		days_re_enable = 25
		days_remove = 21
		complete_effect = {
			set_country_flag = SOV_doing_FC_work
		}
		remove_effect = {
			clr_country_flag = SOV_doing_FC_work
			add_to_variable = { SOV_Sakura_for_FC = 4 }
			custom_effect_tooltip = SOV_Sakura_for_FC_25_tooltip 
		}
	}

	SOV_Sakura_is_on_the_move_for_forgotten_cards = {
		priority = 99
		activation = {   
			always = no     
		}    
		available = {
			always = no
		}   
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		days_mission_timeout = 20
		is_good = no
		fire_only_once = no
		timeout_effect = {    
			hidden_effect = {
				if = {
					limit = { has_country_flag = SOV_forgotten_cards_start }
					activate_mission = SOV_Sakura_is_on_the_move_for_forgotten_cards
				}
			}  
			random_list = {
				15 = {
					add_to_variable = { SOV_Sakura_for_FC = 4 }
					custom_effect_tooltip = SOV_Sakura_for_FC_25_tooltip 
				}
				20 = {
					add_to_variable = { SOV_Sakura_for_FC = 3 }
					custom_effect_tooltip = SOV_Sakura_for_FC_30_tooltip 
				}
				65 = {
					add_to_variable = { SOV_Sakura_for_FC = 2 }
					custom_effect_tooltip = SOV_Sakura_for_FC_45_tooltip 
				}
			}
	    }
	}

	SOV_install_trusted_personnel = {
		icon = GFX_decision_generic_political_discourse
		visible = { 
			has_active_mission = SOV_forgotten_cards_will_attack
			has_country_flag = SOV_opposition_forgotten_cards_start
	    }
		available = {
			NOT = { has_country_flag = SOV_doing_FC_work }
		}
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		cost = 5
		fire_only_once = no
		ai_will_do = {
			base = 100
		}
		days_re_enable = 20
		days_remove = 7
		complete_effect = {
			set_country_flag = SOV_doing_FC_work
		}
		remove_effect = {
			clr_country_flag = SOV_doing_FC_work
			add_to_variable = { SOV_minority_for_FC = 2 }
			custom_effect_tooltip = SOV_opposition_for_FC_45_tooltip 
		}
	}

	SOV_summon_the_enchanters = {
		icon = GFX_decision_generic_military
		visible = { 
			has_active_mission = SOV_forgotten_cards_will_attack
			has_country_flag = SOV_opposition_forgotten_cards_start
	    }
		available = {
			NOT = { has_country_flag = SOV_doing_FC_work }
		}
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		cost = 5
		fire_only_once = no
		ai_will_do = {
			base = 100
		}
		days_re_enable = 25
		days_remove = 14
		complete_effect = {
			set_country_flag = SOV_doing_FC_work
		}
		remove_effect = {
			clr_country_flag = SOV_doing_FC_work
			add_to_variable = { SOV_minority_for_FC = 3 }
			custom_effect_tooltip = SOV_opposition_for_FC_30_tooltip 
		}
	}

	SOV_lay_magic_trap = {
		icon = GFX_decision_generic_intelligence_operation
		visible = { 
			has_active_mission = SOV_forgotten_cards_will_attack
			has_country_flag = SOV_opposition_forgotten_cards_start
	    }
		available = {
			NOT = { has_country_flag = SOV_doing_FC_work }
		}
		cancel_trigger = {
			has_country_flag = SOV_forgotten_cards_end
		}
		cost = 5
		fire_only_once = no
		ai_will_do = {
			base = 100
		}
		days_re_enable = 25
		days_remove = 21
		complete_effect = {
			set_country_flag = SOV_doing_FC_work
		}
		remove_effect = {
			clr_country_flag = SOV_doing_FC_work
			add_to_variable = { SOV_minority_for_FC = 4 }
			custom_effect_tooltip = SOV_opposition_for_FC_25_tooltip 
		}
	}
}

#小樱的衣柜
SOV_Sakura_clothes = {
	Sakura_clothes_0 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_00
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "GFX_SOV_Sakura_00"
				}
			}
		}
	}
	Sakura_clothes_1 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_01
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_01.dds"
				}
			}
		}
	}
	Sakura_clothes_2 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_02
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_02.dds"
				}
			}
		}
	}
	Sakura_clothes_3 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_03
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_03.dds"
				}
			}
		}
	}
	Sakura_clothes_4 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_04
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_04.dds"
				}
			}
		}
	}
	Sakura_clothes_5 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_05
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_05.dds"
				}
			}
		}
	}
	Sakura_clothes_6 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_06
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_06.dds"
				}
			}
		}
	}
	Sakura_clothes_7 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_07
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_07.dds"
				}
			}
		}
	}
	Sakura_clothes_8 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_08
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_08.dds"
				}
			}
		}
	}
	Sakura_clothes_9 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_09
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "gfx/leaders/SOV/SOV_Sakura_09.dds"
				}
			}
		}
	}
	Sakura_clothes_10 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_10
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "GFX_SOV_Sakura_10"
				}
			}
		}
	}
	Sakura_clothes_11 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_11
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "GFX_SOV_Sakura_11"
				}
			}
		}
	}
	Sakura_clothes_12 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_12
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "GFX_SOV_Sakura_12"
				}
			}
		}
	}
	Sakura_clothes_13 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_13
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "GFX_SOV_Sakura_13"
				}
			}
		}
	}
	Sakura_clothes_14 = {
		visible = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		available = {
			has_country_leader = {
				character = SOV_Sakura
				ruling_only = yes
			}
			has_idea = SOV_Temoyu
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = SOV_Sakura_14
			set_portraits = {
				character = SOV_Sakura
				civilian = {
					large = "GFX_SOV_Sakura_14"
				}
			}
		}
	}
}

SOV_war_against_Soviet_category = {
	SOV_collapse_of_Soviet = {
		icon = GFX_decision_revolt
		activation = {
			SOV = {
				is_faction_leader = yes
				has_government = communism
				is_subject = no
				surrender_progress > 0.75
				owns_state = 219
				owns_state = 195
				owns_state = 217
				NOT = {
					any_enemy_country = {
						AND = {
							capital_scope = {
								OR = {
									is_on_continent = asia
									is_on_continent = india
									is_on_continent = australia
								}
							}
							is_major = yes
							is_subject = no
						}
					}
				}
				NOT = {
					has_country_flag = SOV_special_operation_failure_flag
				}
				NOT = {
					controls_state = 219
				}
				NOT = {
					controls_state = 195
				}
				NOT = {
					controls_state = 217
				}
			}
		}
		available = {
			SOV = {
				OR = {
					controls_state = 219
					controls_state = 195
					controls_state = 217
					any_enemy_country = {
						AND = {
							capital_scope = {
								OR = {
									is_on_continent = asia
									is_on_continent = india
									is_on_continent = australia
								}
							}
							is_major = yes
							is_subject = no
						}
					}
				}
			}
		}
		days_mission_timeout = 90
		fire_only_once = no
		timeout_effect = {
			effect_tooltip = {
				SOV = {
					country_event = SOV_end.1
				}
			}
			hidden_effect = {
				if = {
					limit = {
						tag = SOV
					}
					country_event = SOV_end.1
				}
			}
		}
	}
}

SOV_World_Soviets = {
	SOV_Build_World_Soviets = {
		allowed = {
		}
		visible = { is_ai = no }
		available = {
			has_government = communism
			is_faction_leader = yes
			all_country = { is_in_faction_with = ROOT }
			has_completed_focus = SOV_March_Towards_World_Revolution
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			add_research_slot = 1
			set_cosmetic_tag = World_Soviets
			every_country = {
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
			set_faction_name = Gaia_Community
			every_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
				}
				add_core_of_ROOT = yes
			}
			hidden_effect = {
				news_event = {
					id = SOV_news.9
				}
			}
		}
	}
}

Reunit_Russia_decision_cate = {
	Reunit_Russia_decision = {
		allowed = {
			is_russia_uniter_tag = yes
			NOT = {
				or = {
					tag = SOV
					tag = UKR
				}
			}
		}
		visible = {
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = control_all_russia_state
				NOT = {
					any_state = {
						has_state_flag = is_RUS_state_area
						NOT = { is_controlled_by = ROOT }
					}
				}
			}
			has_war = no
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			if = {
				limit = { has_government = communism }
				set_cosmetic_tag = Soviet_Russian
			}
			else = {
				set_cosmetic_tag = Russian
				if = {
					limit = { controls_state = 195 }
					set_province_name = {
						id = 3151
						name = "彼得格勒"
					}
					195 = { set_state_name = "彼得格勒" }
				}
				if = {
					limit = { controls_state = 217 }
					set_province_name = {
						id = 3529
						name = "察里津"
					}
					217 = { set_state_name = "察里津" }
				}
			}
			if = {
				limit = { amount_research_slots < 4 }
				set_research_slots = 4
			}
			every_controlled_state = {
				limit = { has_state_flag = is_RUS_state_area }
				add_core_of_ROOT = yes
			}
			every_state = {
				limit = {
					has_state_flag = is_RUS_state_area
					NOT = {
						or = {
							is_core_of = ROOT
							is_claimed_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}
			set_country_flag = Reunit_Russia_country
			if = {
				limit = { controls_state = 219 }
				set_capital = {
					state = 219
					remember_old_capital = no
				}
			}
		}
	}
	Rebuild_CCCP_decision = {
		allowed = {
			is_russia_uniter_tag = yes
			NOT = {
				or = {
					tag = SOV
					tag = UKR
				}
			}
		}
		visible = { has_government = communism }
		available = {
			custom_trigger_tooltip = {
				tooltip = control_all_russia_state
				NOT = {
					any_state = {
						has_state_flag = is_RUS_state_area
						NOT = { is_controlled_by = ROOT }
					}
				}
			}
			count_triggers = {
				amount = 5
				custom_trigger_tooltip = {
					tooltip = control_all_UKR_state
					NOT = {
						any_state = {
							has_state_flag = is_UKR_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_BLR_state
					NOT = {
						any_state = {
							has_state_flag = is_BLR_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_TAM_state
					NOT = {
						any_state = {
							has_state_flag = is_TAM_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_GEO_state
					NOT = {
						any_state = {
							has_state_flag = is_GEO_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_AZR_state
					NOT = {
						any_state = {
							has_state_flag = is_AZR_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_KUB_state
					NOT = {
						any_state = {
							has_state_flag = is_KUB_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_KAR_state
					NOT = {
						any_state = {
							has_state_flag = is_KAR_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = control_all_CRI_state
					NOT = {
						any_state = {
							has_state_flag = is_CRI_state_area
							NOT = { is_controlled_by = ROOT }
						}
					}
				}
			}
			has_war = no
			has_government = communism
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			set_cosmetic_tag = EAM_Soviet_union
			if = {
				limit = { amount_research_slots < 5 }
				set_research_slots = 5
			}
			every_controlled_state = {
				limit = { has_state_flag = Soviet_union_state_area }
				add_core_of_ROOT = yes
			}
			if = {
				limit = { controls_state = 219 }
				set_capital = {
					state = 219
					remember_old_capital = no
				}
			}
			hidden_effect = {
				if = {
					limit = {
						tag = EAM
						is_in_faction_with = PRC
						PRC = { is_faction_leader = yes }
					}
					news_event = { id = PRC_news.03 }
				}
			}
		}
	}
	RUS_target_decision_core = {
		icon = generic_nationalism
		allowed = {
			is_russia_uniter_tag = yes
			NOT = {
				or = {
					tag = SOV
					tag = UKR
				}
			}
		}
		target_trigger = {
			FROM = {
				NOT = { is_core_of = ROOT }
				has_state_flag = is_RUS_state_area
			}
			ROOT = { has_country_flag = Reunit_Russia_country }
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = controls_state
		cost = 25
		days_remove = 30
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			FROM = { add_core_of_ROOT = yes }
		}
	}
}

Reunit_Tresen_decision_cate = {
	Reunit_Tresen_decision = {
		allowed = {
			is_Tresen_tag = yes
		}
		visible = {
		}
		available = {
			if = {
				limit = { tag = TAM }
				PER = { exists = no }
				AFG = { exists = no }
			}
			if = {
				limit = { tag = PER }
				TAM = { exists = no }
				AFG = { exists = no }
			}
			if = {
				limit = { tag = AFG }
				PER = { exists = no }
				TAM = { exists = no }
			}
			controls_state = 407
			controls_state = 266
			controls_state = 267
			has_war = no
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			set_cosmetic_tag = Tresen_Federation
			if = {
				limit = { amount_research_slots < 4 }
				set_research_slots = 4
			}
			every_controlled_state = {
				limit = { has_state_flag = is_RUS_state_area }
				add_core_of_ROOT = yes
			}
			if = {
				limit = {
					is_in_third_international = yes
				}
				every_state = {
					limit = { has_state_flag = is_Tresen_state_area }
					add_core_of_ROOT = yes
				}
			}
			else = {
				every_state = {
					limit = { has_state_flag = is_whole_Tresen_state_area }
					add_core_of_ROOT = yes
				}
			}
			set_country_flag = Reunit_Tresen_country
		}
	}
	TAM_Provoke_Civil_War = {
		allowed = {
			tag = TAM
		}
		visible = {
		}
		available = {
			is_subject = no
			has_war = no
			not = { has_country_flag = Reunit_Tresen_country }
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_idea = TAM_Provoke_Civil_War_idea
			}
		}
		complete_effect = {
			declare_war_on = {
				target = PER
				type = annex_everything
			}
			declare_war_on = {
				target = AFG
				type = annex_everything
			}
		}
	}
	TAM_join_SOV = {
		icon = GFX_decision_category_generic_foreign_policy
		allowed = {
			tag = TAM
		}
		visible = {
			is_in_faction = no
			SOV = { is_faction_leader = yes }
			#has_country_flag = faction_available
		}
		fire_only_once = yes
		cost = 0
		days_remove = 10
		available = {
			NOT = { has_country_flag = FACTION_ASKING }
			is_in_faction = no
			is_subject = no
			SOV = {
				exists = yes
				is_faction_leader = yes
				has_government = ROOT
			}
			has_country_flag = Reunit_Tresen_country
		}
		complete_effect = {
			set_country_flag = FACTION_ASKING
		}
		remove_effect = {
			clr_country_flag = FACTION_ASKING
			SOV = {
				country_event = generic.2002
			}
		}
		ai_will_do = {
			base = 50
		}
	}
}

SOV_Debug = {
	UKR_become_great = {
		allowed = { tag = UKR }
		complete_effect = {
			annex_country = { target = SOV transfer_troops = no }
			UKR_become_great = yes
		}
	}
	UKR_become_great_end = {
		allowed = { tag = UKR }
		complete_effect = {
			UKR_become_great_end = yes
			add_ideas = partial_economic_mobilisation
			load_focus_tree = { tree = RUS_focus_from_UKR keep_completed = yes }
			custom_effect_tooltip = UKR_Russia_back_tt
		}
	}
	RUS_constitutional_monarchy_win = {
		allowed = { tag = UKR }
		complete_effect = {
			clr_country_flag = RUS_republican_win
			clr_country_flag = RUS_fxs_win
			clr_country_flag = RUS_royalist_win
			clr_country_flag = UKR_bingbian
			clr_country_flag = RUS_pujingnadangxuan
			clr_country_flag = RUS_huilinai_dead
			set_country_flag = RUS_constitutional_monarchy_win
			set_country_flag = RUS_royalist_win_effect
			RUS_constitutional_monarchy_win_effect = yes
			hidden_effect = {
				remove_power_balance = {
					id = UKR_power_balance
				}
			}
		}
	}
	RUS_fxs_win = {
		allowed = { tag = UKR }
		complete_effect = {
			clr_country_flag = RUS_republican_win
			clr_country_flag = RUS_fxs_win
			clr_country_flag = RUS_royalist_win
			clr_country_flag = UKR_bingbian
			clr_country_flag = RUS_pujingnadangxuan
			clr_country_flag = RUS_huilinai_dead
			clr_country_flag = RUS_constitutional_monarchy_win
			set_country_flag = RUS_fxs_win
			RUS_fxs_win_effect = yes
			hidden_effect = {
				remove_power_balance = {
					id = UKR_power_balance
				}
			}
		}
	}
	RUS_royalist_win = {
		allowed = { tag = UKR }
		complete_effect = {
			clr_country_flag = RUS_republican_win
			clr_country_flag = RUS_fxs_win
			clr_country_flag = RUS_royalist_win
			clr_country_flag = UKR_bingbian
			clr_country_flag = RUS_pujingnadangxuan
			clr_country_flag = RUS_huilinai_dead
			clr_country_flag = RUS_constitutional_monarchy_win
			set_country_flag = RUS_royalist_win
			RUS_royalist_win_effect = yes
			hidden_effect = {
				remove_power_balance = {
					id = UKR_power_balance
				}
			}
		}
	}
	UKR_bingbian = {
		allowed = { tag = UKR }
		complete_effect = {
			clr_country_flag = RUS_republican_win
			clr_country_flag = RUS_fxs_win
			clr_country_flag = RUS_royalist_win
			clr_country_flag = UKR_bingbian
			clr_country_flag = RUS_pujingnadangxuan
			clr_country_flag = RUS_huilinai_dead
			clr_country_flag = RUS_constitutional_monarchy_win
			set_country_flag = UKR_bingbian
			mark_focus_tree_layout_dirty = yes
			SOV_Anastasia = { retire = yes }
			UKR_huilinai = {
				if = {
					limit = {
						NOT = {
							has_ideology = military_politicism
						}
					}
					add_country_leader_role = {
						country_leader = {
							ideology = military_politicism
							traits = { hardened_officer }
							expire = "1965.1.1"
						}
						promote_leader = yes
					}
				}
				else = {
					promote_character = yes
				}
			}
			if = {
				limit = { has_idea = UKR_waerjili }
				swap_ideas = {
					remove_idea = UKR_waerjili
					add_idea = UKR_waerjili_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = UKR_waerjili_2
					add_idea = UKR_waerjili_3
				}
			}
			set_cosmetic_tag = UK2
			country_event = { id = ukr_politics.16 days = 1 }
			hidden_effect = {
				remove_power_balance = {
					id = UKR_power_balance
				}
			}
		}
	}
	RUS_huilinai_dead = {
		allowed = { tag = UKR }
		complete_effect = {
			clr_country_flag = RUS_republican_win
			clr_country_flag = RUS_fxs_win
			clr_country_flag = RUS_royalist_win
			clr_country_flag = RUS_pujingnadangxuan
			clr_country_flag = RUS_constitutional_monarchy_win
			clr_country_flag = RUS_huilinai_dead
			UKR_huilinai = { retire = yes }
			UKR_wagena = {
				if = {
					limit = {
						NOT = {
							has_ideology = oligarchism
						}
					}
					add_country_leader_role = {
						country_leader = {
							ideology = oligarchism
							traits = {  }
							expire = "1965.1.1"
						}
						promote_leader = yes
					}
				}
				else = {
					promote_character = yes
				}
			}
			set_country_flag = RUS_huilinai_dead
			mark_focus_tree_layout_dirty = yes
		}
	}	
	SOV_disintegration_of_the_Soviet_Union = {
		allowed = { tag = UKR }
		complete_effect = {
		SOV = {
			SOV_disintegration_of_the_Soviet_Union = yes
			}
		}
	}
}

SOV_great_patriotic_war_category = {

	SOV_building_urban_fortresses = {
		icon = GFX_decision_generic_fortification
		visible = {
			FROM = {
				is_owned_by = ROOT
			}
		}
		available = {
			has_war = no
			FROM = {
				is_fully_controlled_by = ROOT
			}
		}
		cancel_trigger = {
			FROM = {
				NOT = { is_fully_controlled_by = ROOT }
			}
		}
		fire_only_once = yes
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
		targets = { 195 217 219 202 206 }
		state_target = yes
		cost = 10
		modifier = {
			civilian_factory_use = 5
			production_speed_bunker_factor = -0.25
		}
		days_remove = 90
		remove_effect = {
			FROM = {
				add_dynamic_modifier = {
					modifier = SOV_defend_main_city
					scope = ROOT
				}
			}
		}
	}

	SOV_relocate_industries_from_major_cities = {
		icon = GFX_decision_generic_construction
		visible = {
			FROM = {
				is_owned_by = ROOT
			}
			has_completed_focus = SOV_migration_of_industries
		}
		available = {
			has_war = no
			FROM = {
				is_fully_controlled_by = ROOT
			}
		}
		cancel_trigger = {
			FROM = {
				NOT = { is_fully_controlled_by = ROOT }
			}
		}
		fire_only_once = yes
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
		targets = { 195 217 219 202 206 }
		state_target = yes
		cost = 10
		modifier = {
			civilian_factory_use = 5
		}
		days_remove = 90
		remove_effect = {
			FROM = {
				if = {
					limit = {
						arms_factory > 3
					}
					remove_building = {
						type = arms_factory
						level = 4
					}
				}
				else_if = {
					limit = {
						arms_factory > 2
					}
					remove_building = {
						type = arms_factory
						level = 3
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				else_if = {
					limit = {
						arms_factory > 1
					}
					remove_building = {
						type = arms_factory
						level = 2
					}
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}
				else_if = {
					limit = {
						arms_factory > 0
					}
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 3
					}
				}
				else = {
					remove_building = {
						type = industrial_complex
						level = 4
					}
				}
			}
			if = {
				limit = { FROM = { state = 195 } }
				582 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
					}
				}
			}
			else_if = {
				limit = { FROM = { state = 217 } }
				572 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
					}
				}
			}
			else_if = {
				limit = { FROM = { state = 219 } }
				653 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
					}
				}
			}
			else_if = {
				limit = { FROM = { state = 202 } }
				583 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
					}
				}
			}
			else_if = {
				limit = { FROM = { state = 206 } }
				651 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
					}
				}
			}
		}
	}
	
	SOV_stop_blizzard_magic_in_214_city = {
		icon = GFX_decision_generic_coastal_fortification
		visible = {
			has_country_flag = SOV_blizzard_magic_in_214_city_flag
			owns_state = 214
		}
		fire_only_once = no
		days_remove = 7
		cost = 5
		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				has_war_with_major = yes
			}
		}
		remove_effect = {
			clr_country_flag = SOV_blizzard_magic_in_214_city_flag
			214 = {
				set_demilitarized_zone = no
			}
		}

	}

	SOV_recruiting_punitive_army = {
		icon = GFX_decision_generic_arrest
		visible = {
			has_completed_focus = SOV_superintendant_of_war
			has_war_with_major = yes
		}
		available = {
			if = {
				limit = { has_country_flag = SOV_recruiting_punitive_army_flag }
				custom_trigger_tooltip = {
					tooltip = SOV_recruiting_punitive_army_tt
					has_country_flag = {
						flag = SOV_recruiting_punitive_army_flag
						days > 180
					}
				}
			}
		}
		days_remove = 30
		cost = 0
		ai_will_do = {
			base = 1000
		}
		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_template = "Punitive division"
					}
				}
				set_country_flag = SOV_punitive_army_template
				division_template = {
					name = "Punitive division"
					is_locked = yes
					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }
						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }
						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
						penal_battalion = { x = 2 y = 2 }
						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						anti_air = { x = 0 y = 2 }
						anti_tank  = { x = 0 y = 3 }
						artillery = { x = 0 y = 4 }
					}
				}
			}
			hidden_effect = {
				capital_scope = {
					create_unit = {
						division = "division_template = \"Punitive division\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
						owner = ROOT
						count = 4
					}
				}
				clr_country_flag = SOV_recruiting_punitive_army_flag
				set_country_flag = SOV_recruiting_punitive_army_flag
			}
		}
	}

	SOV_disband_the_punitive_army = {
		icon = GFX_decision_generic_military
		visible = {
			has_completed_focus = SOV_superintendant_of_war
			has_war = no
			has_country_flag = SOV_punitive_army_template
		}
		available = {
			has_war = no
		}
		ai_will_do = {
			base = 1000
		}
		cost = 20
		days_remove = 30
		remove_effect = {
			add_stability = -0.05
			delete_unit_template_and_units = {
				division_template = "Punitive division"
			}
			clr_country_flag = SOV_punitive_army_template
		}
	}

	SOV_Sakura_personally_commands_the_troops = {
		icon = GFX_decision_generic_intelligence_operation
		visible = {
			has_war_with_major = yes
			SOV_Sakura = {
				is_advisor = no
			}
		}
		available = {
			has_war_with_major = yes
		}
		ai_will_do = {
			base = 1000
		}
		cost = 50
		fire_only_once = yes
		days_remove = 7
		remove_effect = {
			add_field_marshal_role = {
				character = SOV_Sakura
				skill = 4
				attack_skill = 6
				defense_skill = 3
				planning_skill = 3
				logistics_skill = 4
				traits = { trait_engineer order_mahoushojo career_officer logistics_wizard adaptable }
			}
			add_advisor_role = {
				character = SOV_Sakura
				advisor = {
					slot = theorist
					traits = { SOV_magical_warfare }
					idea_token = SOV_Sakura
					cost = 100
				}
			}
		}
	}

	SOV_full_production_in_the_rear_area = {
		icon = GFX_decision_generic_merge_plant_tank
		visible = {
			has_war_with_major = yes
			has_completed_focus = SOV_emergency_arms_production
		}
		available = {
			has_war_with_major = yes
			arms_factory < 150
		}
		cancel_trigger = {
			has_war = no
		}
		ai_will_do = {
			base = 1000
		}
		cost = 200
		fire_only_once = no
		days_remove = 180
		modifier = {
			military_factory_donations = 10
			industrial_capacity_factory = 0.30
		}
	}

	SOV_self_sufficiency_movement = {
		icon = GFX_decision_generic_nationalism
		visible = {
			has_war_with_major = yes
		}
		available = {
			surrender_progress > 0.5
			has_war_with_major = yes
			PRC = {
				OR = {
					is_neighbor_of = SOV
					any_allied_country = {
						is_neighbor_of = SOV
					}
				}
			}
		}
		cost = 200
		days_remove = 180
		fire_only_once = no
		modifier = {
			consumer_goods_factor = -0.30
			max_training = -0.25
			training_time_army_factor = -0.20
			industrial_capacity_factory = 0.20
		}
	}
}

Catch_SOV_Vivio = {
	Appease_SOV_Vivio = {
		icon = GFX_decision_ger_mefo_bills
		visible = {
		}
		cost = 25
		ai_will_do = {
			base = 10
		}
		available = {
			NOT = {
				has_country_flag = catch_SOV_Vivio_going
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		days_remove = 30
		complete_effect = {
			set_country_flag = catch_SOV_Vivio_going
		}
		remove_effect = {
			country_event = {
				id = SOV_catch.01
			}
		}
	}
	Torture_SOV_Vivio = {
		icon = GFX_decision_generic_civil_support
		visible = {
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			base = 50
		}
		available = {
			NOT = {
				has_country_flag = catch_SOV_Vivio_going
			}
		}
		days_remove = 1
		complete_effect = {
			set_country_flag = catch_SOV_Vivio_going
		}
		remove_effect = {
			country_event = {
				id = SOV_catch.06
			}
		}
	}
	Brainwash_SOV_Vivio = {
		icon = GFX_decision_generic_research
		visible = {
		}
		cost = 25
		ai_will_do = {
			base = 100
		}
		available = {
			has_tech = magic_weapons5
			NOT = { has_country_flag = catch_SOV_Vivio_going }
		}
		days_remove = 150
		complete_effect = {
			set_country_flag = catch_SOV_Vivio_going
		}
		remove_effect = {
			country_event = {
				id = SOV_catch.10
			}
		}
	}
}




#242  219  192 137 842


